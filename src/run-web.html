<!doctype html><html><head><meta charset="utf8"><title>uw8-run</title><style>body,canvas,html{background-color:#202024;margin:0;padding:0}body,html{height:100%}body{display:grid;grid-template-rows:1fr}#screen{align-self:center;border:4px solid #303040;image-rendering:pixelated;justify-self:center}#message{background-color:rgba(0,0,0,.4);color:#c64;font:700 12pt sans-serif;padding:8px;position:absolute;width:calc(100% - 16px);z-index:2}@media (min-width:648px) and (min-height:488px){#screen{height:480px;width:640px}}@media (min-width:968px) and (min-height:728px){#screen{height:720px;width:960px}}</style></head><body> <canvas id="screen" width="320" height="240" tabindex="1"> </canvas> <div id="message"></div> </body><script type="module">function e(e){return e&&e.__esModule?e.default:e}class t extends AudioWorkletNode{constructor(e){super(e,"apu",{outputChannelCount:[2]})}}let A=(...e)=>new Uint8Array(...e),a=(...e)=>new Uint32Array(...e);let B=function(B,n={}){n.setMessage||(n.setMessage=(e,t)=>{t&&console.log("error: "+t)});let s,o,r,i,l=B.getContext("2d"),F=l.createImageData(320,240),g=n.devkitMode,d=0,c=null==n.keyboardElement?B:n.keyboardElement;if(c){let e=e=>{let t,A="keydown"==e.type;switch(e.code){case"ArrowUp":t=1;break;case"ArrowDown":t=2;break;case"ArrowLeft":t=4;break;case"ArrowRight":t=8;break;case"KeyZ":t=16;break;case"KeyX":t=32;break;case"KeyA":t=64;break;case"KeyS":t=128;break;case"KeyR":A&&D(o,!0);break;case"F9":A&&B.toBlob((e=>{u(e,".png")})),e.preventDefault();break;case"F10":A&&function(){if(r)return r.stop(),void(r=null);r=new MediaRecorder(B.captureStream(),{mimeType:"video/webm",videoBitsPerSecond:25e6});let e=[];r.ondataavailable=t=>{e.push(t.data)};let t=n.timerElement;t&&(t.hidden=!1,t.innerText="00:00");function A(){if(i){if(t){let e=Math.floor((Date.now()-i)/1e3);t.innerText=Math.floor(e/60).toString().padStart(2,"0")+":"+(e%60).toString().padStart(2,"0")}setTimeout(A,1e3)}}r.onstop=()=>{t&&(t.hidden=!0),u(new Blob(e,{type:"video/webm"}),".webm")},r.start(),i=Date.now(),setTimeout(A,1e3)}(),e.preventDefault()}A?d|=t:d&=~t};c.onkeydown=e,c.onkeyup=e}async function D(r,i){s&&(s(),s=null);let c=new AudioContext({sampleRate:44100}),u=!0;s=()=>{c.close(),u=!1};let Q=r.byteLength;if(n.setMessage(Q),0==Q)return;await c.audioWorklet.addModule(e("data:application/javascript,let%20e%3D%28...e%29%3D%3Enew%20Uint8Array%28...e%29%3Bclass%20s%20extends%20AudioWorkletProcessor%7Bconstructor%28%29%7Bsuper%28%29%2Cthis.sampleIndex%3D0%2Cthis.port.onmessage%3Ds%3D%3E%7Bthis.memory%3Fe%28this.memory.buffer%2C80%2C32%29.set%28e%28s.data%29%29%3Athis.load%28s.data%5B0%5D%2Cs.data%5B1%5D%29%7D%7Dasync%20load%28e%2Cs%29%7Blet%20t%3Dnew%20WebAssembly.Memory%28%7Binitial%3A4%2Cmaximum%3A4%7D%29%2Ca%3D%7Benv%3A%7Bmemory%3At%7D%7D%3Bfor%28let%20e%20of%5B%22acos%22%2C%22asin%22%2C%22atan%22%2C%22atan2%22%2C%22cos%22%2C%22exp%22%2C%22log%22%2C%22sin%22%2C%22tan%22%2C%22pow%22%5D%29a.env%5Be%5D%3DMath%5Be%5D%3Bfor%28let%20e%3D9%3Be%3C64%3B%2B%2Be%29a.env%5B%22reserved%22%2Be%5D%3D%28%29%3D%3E%7B%7D%3Bfor%28let%20e%3D0%3Be%3C16%3B%2B%2Be%29a.env%5B%22g_reserved%22%2Be%5D%3D0%3Blet%20r%3Dasync%20e%3D%3E%28await%20WebAssembly.instantiate%28e%2Ca%29%29.instance%2Cn%3Dawait%20r%28e%29%3Bfor%28let%20e%20in%20n.exports%29a.env%5Be%5D%3Dn.exports%5Be%5D%3Blet%20o%3Dawait%20r%28s%29%3Bthis.memory%3Dt%2Cthis.snd%3Do.exports.snd%7C%7Cn.exports.gesSnd%2Cthis.port.postMessage%282%29%7Dprocess%28e%2Cs%2Ct%29%7Bif%28this.snd%29%7Blet%20e%3Ds%5B0%5D%2Ct%3Dthis.sampleIndex%2Ca%3De%5B0%5D.length%3Bfor%28let%20s%3D0%3Bs%3Ca%3B%2B%2Bs%29e%5B0%5D%5Bs%5D%3Dthis.snd%28t%2B%2B%29%2Ce%5B1%5D%5Bs%5D%3Dthis.snd%28t%2B%2B%29%3Bthis.sampleIndex%3D4294967295%26t%7Dreturn%210%7D%7DregisterProcessor%28%22apu%22%2Cs%29%3B"));let f,E=new t(c),C=0,I=new Promise((e=>f=e)),p=e=>{C|=e,3==C&&f&&(f(!0),f=null)};E.port.onmessage=e=>p(e.data);let y=()=>{"suspended"==c.state?(n.startButton&&(n.startButton.style="",B.style="display:none"),(n.startButton||B).onclick=()=>{c.resume()}):(n.startButton&&(n.startButton.style="display:none",B.style=""),p(1))};c.onstatechange=y,y(),o=r;let w=window.location.pathname;if(Q<=1024&&!i){let e="";for(let t of A(r))e+=String.fromCharCode(t);w+="#"+btoa(e),w!=window.location.pathname+window.location.hash&&history.pushState(null,null,w)}B.width=B.width;try{let t={initial:4};g||(t.maximum=4);let B,s=new WebAssembly.Memory(t),i=A(s.buffer),f={env:{memory:s}},C=e=>{if(B&&(!g||0!=A(e)[0])){i.set(A(e));let t=B.exports.load_uw8(e.byteLength);e=new ArrayBuffer(t),A(e).set(i.slice(0,t))}return e},p=async e=>(await WebAssembly.instantiate(e,f)).instance,y=async e=>C(await(await fetch(e)).arrayBuffer());B=await p(await y(e("data:application/wasm;base64,AGFzbQEAAAABFQRgAX8Bf2ACf38Bf2ADf39%2FAGAAAAIPAQNlbnYGbWVtb3J5AgAEAwkIAAABAgEAAAMGEAN%2FAUEAC38BQQALfwFBAAsHGQIIbG9hZF91dzgAAAp1bmNvbXByZXNzAAQIAQcKngUIxwEBB39BAC0AAEEBayIBQQBIBEAgAA8LQYDAByAAaiECIAFBAXEEQEEBQYHABxAEIQIFQYDAB0EAIAAQAwtBAEGAhA9BCBADQYiEDyEDQQghBEGBwAchBQNAIAUgAkggAyMATiAFLQAAIAMtAABMcnEEQCAEIAQgBRACIgZqIQQgAyMASCAFLQAAIAMtAABGcQRAIAMgAxABaiEDCyAFIAZqIQUMAQsgAyMASARAIAQgBCADEAIiB2ohBCADIAdqIQMMAQsLIAQLPAEEfyAAIQEDQCACIAFBAWoiAS0AACIEQf8AcSADdHIhAiADQQdqIQMgBEEHdQ0ACyABQQFqIABrIAJqCxIBAX8gACABIAEQASICEAMgAgskAANAIAJBAEoEQCAAIAJBAWsiAmogASACai0AADoAAAwBCwsLqQEBBn8gACQBQQAkAgNAIANBgAE6AICADyADQQFqIgNBgQNIDQALAkADQEEAEAYiBQRAIAQEf0EBBUGAAhAGCwRAQYECEAVBAWsiAkUNAwtBwQIQBSEGA0AgASABIAJrLQAAOgAAIAFBAWohASAGQQFrIgYNAAsFQQEhBwNAIAdBAXQgBxAGciIHQYACSA0ACyABIAc6AAAgAUEBaiEBCyAFIQQMAAsLIAELNAECfwNAIAAgAmoQBgRAIAEgACACakEgahAGIAJ0ciEBIAJBAWohAgwBCwsgAUEBIAJ0cgtxAQR%2FA0AjAkGAIEgEQCMCQQh0IwEtAAByJAIjAUEBaiQBDAELCyMCQf8BcSICIAAtAICADyIBIwJBCHUiA2xBgAIgAWsgA2wgAWsgAiABSCIEG2okAiAAIAFBByAEQYECbGogAWtBBHVqOgCAgA8gBAsMAEEAQYCEDxAEJAALC9gDAQBBAAvRAwF%2F%2F9fTKCTONmi84%2BnrbVSOH%2Fc6vSf%2BD4d9SJNBc3FX7QfUHxwdZoJ2gbrkOxXMlCFQohTpOfrqH2lON%2BKLJNVfU5Nu4GOO2WMojT29uFcnCJS3%2B1hbxaL%2Fh9lmLYb3zvWsMJ%2BjBoF3XH%2BX3PiQRGj3lSO6d6ROB1tLHAjBvc8KRcJC8ezAHO2KxgN0C60LhqDnEMNRGkiZIGd7vFakdzsTK52rXTWTEF%2BRtXf5UnppLVtDQaKioHW9qgBgNM8z076axgmmzZdgskOHHn3MVWuglavoCFh4dRFW5XmuZwoBT3HKAX%2F6xPFRb56MQoyggxfIPc7Po49uFG7BLqNaZm%2FVzLkVsqcnLbkOu67BrqPS6In7L9Zomf6E5PQp%2FK7DKV5%2FS%2Be15wnC3zqP1Bj6xLe3xzckXir7SHPZsep5NtRy%2FGpcseCHgPNHMos7xPQKdDO%2BAXqvMZuNdOwFZm6TmQ3vmMOdSSpn62axAi0QlRgoxhrA%2F42mIF6TkGbDAElqkMfF0EyKfip%2B2EPJtH7AksMALac%2BkjT9fyIQRGiD5HMZwCTKLxBLX3A07qdkKrXlR5i8pYOXZxAX4vyy9BKV8RfUfvEuqyNXXnBg4e%2BB%2FPnR%2Bg%3D%3D")));for(let e of["acos","asin","atan","atan2","cos","exp","log","sin","tan","pow"])f.env[e]=Math[e];for(let e=9;e<64;++e)f.env["reserved"+e]=()=>{};for(let e=0;e<16;++e)f.env["g_reserved"+e]=0;r=C(r);let w=await y(e("data:;base64,Agh%2Fr04Yqf%2FEE0hSm1EGgPK%2FUhcEL%2BxlzaOkQ%2FqXJgzq%2B4ntXHbV94aCaBkX6yOcuNDJOEaTPRdyirB9ySaLQdLbSL6eLMX8usAjdJVkkQARPjrVhd32nwPldpKVXdS2AYUvC0%2FjDuK9x2liTqOQaMC1kQ1oYkklq5HYa6tEXqrAQOzvoElTSWREPW%2F1EyneLqDLTN4y0dD%2F0ZAIpWeJyStnFoQAsW2%2B6KK3QIndpPTyu3WCZqlH1D9Mu1KIsWJI8ddkVUgMSND5a%2Bgk0TvTNEOEAzDTnQsIEC9jDes44kfu2osCimmltSt%2B%2BCE53dOOBM6vaulBMdpMCwFf45ZSzsHA6beL49f5SxrxuLcP1OGttZUa1M9rFdrJNAN5FfuDgl65TO2RqZDzd63d%2FR10j9RNdKlAko4xifSQqkzlbOsiWl1aEsi3zKFNc1w45C%2Bp76iFH%2FDV1h%2FALWECCPE0e4N6I7Boo4zwEprn6eckBWSVfXiOguOBx4%2FDGU2qtwq2mWeNitwOtpQKL7jyyN%2FKh9FqCnVXs4lE2AAe%2B%2Boh%2B5%2BFcpDfT0MaNIjzKgD0QuRi9jgzH3oE8UrKhBAx%2Fr2eR5RBnrf8wKzF6uEaVGycqe62r1KfwqpIAWWgFCjA7n5v7JUXkRf3UmEZnOcchuMtO2rj1uu1fnYEG0MyiPJqGEJEtZwH7TyMhIBixE%2FFbLRvTf2k5UBYG7Rc%2FEU5Tc8hP7xlmnuBQqUsGpgYOP%2FAFSEgbsiQkgCmnw%2Fum2geUyBW8OEnRvlymcjLYSoSDygtNvPq9Acm2mEDMAMH%2FvdYbu%2FnizXkTY1e4ciPSQyiy6I71ID%2BngbwIuBccH8FW%2FgQWcPsxKj5lQc00duQLDgza6%2BNlYq4YdA63vbQOP2s8AHPr%2FTFH2bRcmEH%2BwBI84PCphBft7%2BFUqFwDDXMvAhmnsrVM%2B4mpYIVN6VFJpQlboLhv9DhTSMSwLwGGAVIaJvoFRxVyS3dx7n4OJj1%2BhoZc2DdVuylI9jbiI5btiBMeDdafJXEKLzZ9DzwLm1Z%2FJIz%2Fln6ydCy3FbBh7DDSNCsugmn8gczQLjbh4Ah%2F2J28kmEL%2BGiKiD4xPaW0IIJceSrBTaGOgprKM7Lv9XCt5Es0DtC5GtLYEWuN4kkj7kV%2B1Tr%2F20IUSk%2BGDDuLppUvT5A7s2ehsBbQ9g%2FjizI9yhpMIAk%2FpNt17QHZx6unQq5aRE5ir9EsT4xoCQU1bqnK7RBk9rKM3v407QQiHKUePHr%2FlVdkeb6Lqfhych578rRLCDJFqyznQUIpscDZzNXzg8sZS2FvVJY4xGYS%2FlYNeunVA4THiKK8UlaZTMVo4xAMFK1Qg%2FrYMcQYHTLoOM5O8kthLldz2xgGRqhMKpUYQb52HH0BALgQZA0jzb5ie8NL%2B3AW2Tkp8nHaSiB90hGYBOW8brSkb%2BH94Azv4ASH%2Bs5gp3juDOZ5TvvTUi48u7vHYoX64WLSgfGCBb%2F3%2F8ESCHzIOHmXmGCEzKWg4npLHbH4nv73f%2B5xeslYy%2BVvxUy%2Fp%2BJ0Fmzpg5pdrp1WegHD8SL1jxi9gjyawxcq6LO15QaSj07EmcsDRafB4sOkb95%2BN%2FGMe0yJbuX5o1CZwZT5ACC%2Fji5yFjg3iyn15H2L9TeBFLOU4a5stvKskYJb5TOt86KilqQj2e9A7em17Rq1QQtLG0EdqSYTwhmZwU2Z8duw1hk9iyi0G1dLFyPXaNNfIVPXcrh3qv7vVbJujcPrJlLq1ESrrmXORRXjGLbw8ZV9zRzvRXlngoQIEPngUgkQI8Ior4f6JksmC6w02k8hgP%2FFzuTchF9xJhZQf9KLpFrjj7HhYX9b2bjS2RbHpvOI0Z81SvI%2FKt%2FCtNhuvquqIaQwzsowFYPjrLwNHcVu5M1RgR%2BpJV0ISY%2B3d2%2F%2F3RbTGf9zWubIY3gAb2Wm2f9L8Ocpw4390LhajfRRZ7tTfgPyQKPjViL5PcRqORi7eJsmsvqUceWPaRZpT%2Bt9SkzCqB14Uxjo8g%2Bi5qfVsM8sSF6zYI%2BD4dYN6JWdOi%2F8fo4U6NjVZNUhcrPTo2cDH39Um0k5SIpXHV%2BBOZ0yWC%2Bg%2FYDpzmUXQs139x9bSJcMPbfs3LwZ2bkuhLRBEqcAS0xhzgw6ChviEDIa47eeFNBz3eP5F6oUnruEJZk5Ovjs3tGXAU9fOjdntFtwWXyMsPkKJuz6Mlxa4Z4ByU5%2FmRlaM3kCQtIS7hLQzd1BjvuMvxPY%2FCryzgx9jvRTav6qyEtVpVpJg%2Fam3GnVM%2B1AznpbHmP%2FYX%2F0gLQIXvNdNNVynq3kfY4Krim%2BXN2gfR1KJviqBoDQtlfBhEVpL1AYtIrbtXf5PLr5Zc0SANMh76DkurgbnYmgpnUyZ2GBUt7YmOsF5qtaKlI%2FAU49dbD%2FyOg%2FIItKUpMja%2Fv36qdedIwaS2ht6cKMZN16e6eZhV9Xi7kObEawQIDwpLR1dGQwM2l61aWcdOdIz4GNsMfzlKVKz6Xgyhxq7%2BB7rn7OtGGepXpXkKhpTCeSEutoMM4La51Pxk8maVZpQnrF3WG7iGCDsYlMCOeD9U0m%2BZcJ%2FryxH8FFX%2FrbyxppqeruKU035bAkw1KfwW6WAIdcyRyiuEG4yJC3EH19Ixd2pajLkWmOgP4QoQaJRMKbACuXkeWcrHOjxz2vD0HwcW0cY8TiPUk6H2YelFotc4QgCu%2BOlbXFgUXBBy2pa5sBN56zS%2BSLj6lcuKs4LToXOpXiCG9R8k0WnyZDlfnNOt5zAfKAEEaMrhImEMjdwuOGjdr6AYLUR2p9D619oNk6Kej9pULPxAEaCZDt3WX8v5gaWgIrzNZ0a5J61Ir9qzlhpRe38k5ce5LJrwTtNFN0mX6fQyoUaNHwrouMlcvkkFqunLFlffhJyEtjysuiDZpAP2yLI873cM3DjU%2BIBDpmHY4XjEuQExdJEnkVVfGf%2F1p%2FVOuRPegReoRnrT4BAAcOZ60%2FmAp55uBTQJodhy7atJJL7jMu%2FxdzQgqbn8Phfmx47%2BkqxtCBdaRpfRiLViFjiiB%2BKxNSAFdDQu0yEIq8aNUDPdkBOOnI5101st15WKFwPInUXrgfYAV6CcVkEFm7ytgWRLhitSQncJwWjTsb8m2Yxuy23CM540m93updsiPixBGKR2k9xl52RppDG8tB1CK87PxxLkniTpopZpFeBUSU9kqcF0Ob9Hail4yDPdDSQALgZkAYqI2gujRFxoSYikeZT8LHjubQnHtZjFT9h2rzqX%2BrcI5s1Ks91pIRaLmjwdk3kczmBrHw4wqoJkh40tZCCv3sKlHHt3Gky0TJ3jx0TY517REv%2BM5hOZw0kpl9oTi4eWXiYtJ8MbFk%2Fzg9qZ3OEniZmWHTJl%2FGxtIrvO7A5%2FK48%2Fj4JWga%2FYrvXC%2BcbgJxt6wJUruCjfxeJg7pOIF6oJBp8ZoDC6Nu9Pb2zaoeyUjkQPu224g6UbHg45jcgTPcXp%2BCfG5Qy7lgPe%2Fec6fo2BJWKX9oPDPZW1SJY9BTO9lRMFsn6QCkfyPfFUuOdB%2F446SvFczg45DPK9vW2FVHzI1xpdqAnKSfqUXiGvDP%2FsgHSBI2%2B2oDlDXPX5VQ9YVF3reI3uUADrrqzz4DdGJMXvVinnXg6vypFchbrte8XZv131jEJcI9BvA5MTCM61pl1kKKYq7nF5%2BWA0f253RxdDN9wFMfA%2B8haoSKwWzvBGEyD1S02dZllZM%2BA3DXhgDqQu2aBjWzN1CpOHWUhsIR4xzDB%2BxITv8Aa9Gu%2FJfVX5NEEuT%2BfX6Akow8tYh%2BVoCZTDk6ib2nXcD7iqgnj2m%2Fv7079ZA8hWbrxadrUafFh%2BPbEPYdMjRfXiBWh2u8dmCl3nwVdQNsyJgd8W%2BOHBwSRIF0AdQSPGxuRBgZUrvzVSF%2BjXQDZ2Vvp75aqqgMVG14gY0HKlAnS2vHVL9NxTHV54cc076lelmNorx1n3f0kAnIACCcfEOR%2FgHN1yLd6jb0tslfmhN5eFLZ%2Bb8FOu1yQNUe9Q4mQy73e00xI%2FdItgDKUJ4m4m1RrFJZcnbwPq2q5al%2FA8XjTKO5EPVnLeacyfpBaXubduUXbH6mEsAW%2BTBRTVTfCRlplAY7GTfY0XSfXgC8f1oQSAQPHlRoRfi623ZnE%2FSAeL5MMq7%2BpiLoSo4K%2B0jJtMAw%2FBx90sHAk%2BxjrFTTlyVflE1d60800tXqOLdfryC0D1R5YKU2jVphb%2By1yA8AFvr7aATVBU%2Fii1hr1PV18l7akRzwtwHxxNlXdwfJ%2FUDM99l2diHXcCMQHYscfkCtomQDyzs%2BUrqXRV3eQwKE7zSoM9Yya4k5B9MCFow%2Bq8YJVhMUQHbLGwMeBGZTpmkA8YGE14BYvgNkbNaHhbXAzDxdPISlK51UWz4PLhSaf6yV3594m0%2Bo%2FSqDQGV8OZ1QdVDOOhcZ4B%2FlzrI0C5md%2B%2BMuRXs8Ha3mX%2F4TNnDvYKxGhk%3D"));E.port.postMessage([w,r]);let m=await p(w);for(let e in m.exports)f.env[e]=m.exports[e];let h=await p(r),b=a(F.data.buffer);await I;let k=Date.now();const M=1e3/60;let x=k;E.connect(c.destination),function e(){if(u)try{let t=Date.now(),B=!1;if(t>=x){let e=navigator.getGamepads(),n=0;for(let t=0;t<4;++t){let A=e[t];if(A){for(let e=0;e<8;++e){let a=(e+12)%16;A.buttons.length>a&&A.buttons[a].pressed&&(n|=1<<8*t+e)}if(A.axes.length>1)for(let e=0;e<4;++e){let a=A.axes[1-(e>>1)];(1&e?a:-a)>.5&&(n|=1<<8*t+e)}A.buttons.length>9&&A.buttons[9].pressed&&(B=!0)}}let o=a(s.buffer);o[16]=t-k,o[17]=d|n,h.exports.upd&&h.exports.upd(),m.exports.endFrame();let r=new ArrayBuffer(32);A(r).set(A(s.buffer,80,32)),E.port.postMessage(r,[r]);let g=a(s.buffer,77824,1024);for(let e=0;e<76800;++e)b[e]=4278190080|g[i[e+120]];l.putImageData(F,0,0),x=Math.max(x+M,t)}B?D(o):window.requestAnimationFrame(e)}catch(e){n.setMessage(Q,e.toString())}}()}catch(e){n.setMessage(Q,e.toString())}}function u(e,t){let A=document.createElement("a");A.href=URL.createObjectURL(e),A.download="microw8_"+(new Date).toISOString()+t,A.click(),URL.revokeObjectURL(A.href)}return{runModule:D,runModuleFromURL:async function(e,t){let A=await fetch(e),a=A.headers.get("Content-Type");return!(a&&a.includes("html")||200!=A.status)&&(D(await A.arrayBuffer(),t||g),!0)},setDevkitMode:e=>g=e}}(document.getElementById("screen"),{setMessage:(e,t)=>{let A=document.getElementById("message");t&&(A.innerText=t),A.hidden=!t}});new EventSource("events").onmessage=e=>{console.log(e.data),"L"==e.data&&B.runModuleFromURL("cart",!0)},B.runModuleFromURL("cart",!0);</script></html>