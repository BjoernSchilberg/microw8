<!doctype html><html><head><meta charset="utf8"><title>uw8-run</title><style>body,canvas,html{background-color:#202024;margin:0;padding:0}body,html{height:100%}body{display:grid;grid-template-rows:1fr}#screen{align-self:center;border:4px solid #303040;image-rendering:pixelated;justify-self:center}#message{background-color:rgba(0,0,0,.4);color:#c64;font:700 12pt sans-serif;padding:8px;position:absolute;width:calc(100% - 16px);z-index:2}@media (min-width:648px) and (min-height:488px){#screen{height:480px;width:640px}}@media (min-width:968px) and (min-height:728px){#screen{height:720px;width:960px}}</style></head><body> <canvas id="screen" width="320" height="240" tabindex="1"> </canvas> <div id="message"></div> </body><script type="module">function e(e){return e&&e.__esModule?e.default:e}class t extends AudioWorkletNode{constructor(e){super(e,"apu",{outputChannelCount:[2]})}}let A=(...e)=>new Uint8Array(...e),a=(...e)=>new Uint32Array(...e);let B=function(B,s={}){s.setMessage||(s.setMessage=(e,t)=>{t&&console.log("error: "+t)});let o,n,r,i,l=B.getContext("2d"),F=l.createImageData(320,240),d=s.devkitMode,c=0,C=null==s.keyboardElement?B:s.keyboardElement;if(C){let e=e=>{let t,A="keydown"==e.type;switch(e.code){case"ArrowUp":t=1;break;case"ArrowDown":t=2;break;case"ArrowLeft":t=4;break;case"ArrowRight":t=8;break;case"KeyZ":t=16;break;case"KeyX":t=32;break;case"KeyA":t=64;break;case"KeyS":t=128;break;case"KeyR":A&&g(n,!0);break;case"F9":A&&B.toBlob((e=>{f(e,".png")})),e.preventDefault();break;case"F10":A&&function(){if(r)return r.stop(),void(r=null);r=new MediaRecorder(B.captureStream(),{mimeType:"video/webm",videoBitsPerSecond:25e6});let e=[];r.ondataavailable=t=>{e.push(t.data)};let t=s.timerElement;t&&(t.hidden=!1,t.innerText="00:00");function A(){if(i){if(t){let e=Math.floor((Date.now()-i)/1e3);t.innerText=Math.floor(e/60).toString().padStart(2,"0")+":"+(e%60).toString().padStart(2,"0")}setTimeout(A,1e3)}}r.onstop=()=>{t&&(t.hidden=!0),f(new Blob(e,{type:"video/webm"}),".webm")},r.start(),i=Date.now(),setTimeout(A,1e3)}(),e.preventDefault()}A?c|=t:c&=~t};C.onkeydown=e,C.onkeyup=e}async function g(r,i){o&&(o(),o=null);let C=new AudioContext({sampleRate:44100}),f=!0;o=()=>{C.close(),f=!1};let I=r.byteLength;if(s.setMessage(I),0==I)return;await C.audioWorklet.addModule(e("data:application/javascript,let%20e%3D%28...e%29%3D%3Enew%20Uint8Array%28...e%29%3Bclass%20s%20extends%20AudioWorkletProcessor%7Bconstructor%28%29%7Bsuper%28%29%2Cthis.sampleIndex%3D0%2Cthis.port.onmessage%3Ds%3D%3E%7Bthis.memory%3Fe%28this.memory.buffer%2C80%2C32%29.set%28e%28s.data%29%29%3Athis.load%28s.data%5B0%5D%2Cs.data%5B1%5D%29%7D%7Dasync%20load%28e%2Cs%29%7Blet%20t%3Dnew%20WebAssembly.Memory%28%7Binitial%3A4%2Cmaximum%3A4%7D%29%2Ca%3D%7Benv%3A%7Bmemory%3At%7D%7D%3Bfor%28let%20e%20of%5B%22acos%22%2C%22asin%22%2C%22atan%22%2C%22atan2%22%2C%22cos%22%2C%22exp%22%2C%22log%22%2C%22sin%22%2C%22tan%22%2C%22pow%22%5D%29a.env%5Be%5D%3DMath%5Be%5D%3Bfor%28let%20e%3D9%3Be%3C64%3B%2B%2Be%29a.env%5B%22reserved%22%2Be%5D%3D%28%29%3D%3E%7B%7D%3Bfor%28let%20e%3D0%3Be%3C16%3B%2B%2Be%29a.env%5B%22g_reserved%22%2Be%5D%3D0%3Blet%20r%3Dasync%20e%3D%3E%28await%20WebAssembly.instantiate%28e%2Ca%29%29.instance%2Cn%3Dawait%20r%28e%29%3Bfor%28let%20e%20in%20n.exports%29a.env%5Be%5D%3Dn.exports%5Be%5D%3Blet%20o%3Dawait%20r%28s%29%3Bthis.memory%3Dt%2Cthis.snd%3Do.exports.snd%7C%7Cn.exports.gesSnd%2Cthis.port.postMessage%282%29%7Dprocess%28e%2Cs%2Ct%29%7Bif%28this.snd%29%7Blet%20e%3Ds%5B0%5D%2Ct%3Dthis.sampleIndex%2Ca%3De%5B0%5D.length%3Bfor%28let%20s%3D0%3Bs%3Ca%3B%2B%2Bs%29e%5B0%5D%5Bs%5D%3Dthis.snd%28t%2B%2B%29%2Ce%5B1%5D%5Bs%5D%3Dthis.snd%28t%2B%2B%29%3Bthis.sampleIndex%3D4294967295%26t%7Dreturn%210%7D%7DregisterProcessor%28%22apu%22%2Cs%29%3B"));let Q,E=new t(C),D=0,m=new Promise((e=>Q=e)),u=e=>{D|=e,3==D&&Q&&(Q(!0),Q=null)};E.port.onmessage=e=>u(e.data);let w=()=>{"suspended"==C.state?(s.startButton&&(s.startButton.style="",B.style="display:none"),(s.startButton||B).onclick=()=>{C.resume()}):(s.startButton&&(s.startButton.style="display:none",B.style=""),u(1))};C.onstatechange=w,w(),n=r;let y=window.location.pathname;if(I<=1024&&!i){let e="";for(let t of A(r))e+=String.fromCharCode(t);y+="#"+btoa(e),y!=window.location.pathname+window.location.hash&&history.pushState(null,null,y)}B.width=B.width;try{let t={initial:4};d||(t.maximum=4);let B,o=new WebAssembly.Memory(t),i=A(o.buffer),Q={env:{memory:o}},D=e=>{if(B&&(!d||0!=A(e)[0])){i.set(A(e));let t=B.exports.load_uw8(e.byteLength);e=new ArrayBuffer(t),A(e).set(i.slice(0,t))}return e},u=async e=>(await WebAssembly.instantiate(e,Q)).instance,w=async e=>D(await(await fetch(e)).arrayBuffer());B=await u(await w(e("data:application/wasm;base64,AGFzbQEAAAABFQRgAX8Bf2ACf38Bf2ADf39%2FAGAAAAIPAQNlbnYGbWVtb3J5AgAEAwkIAAABAgEAAAMGEAN%2FAUEAC38BQQALfwFBAAsHGQIIbG9hZF91dzgAAAp1bmNvbXByZXNzAAQIAQcKngUIxwEBB39BAC0AAEEBayIBQQBIBEAgAA8LQYDAByAAaiECIAFBAXEEQEEBQYHABxAEIQIFQYDAB0EAIAAQAwtBAEGAhA9BCBADQYiEDyEDQQghBEGBwAchBQNAIAUgAkggAyMATiAFLQAAIAMtAABMcnEEQCAEIAQgBRACIgZqIQQgAyMASCAFLQAAIAMtAABGcQRAIAMgAxABaiEDCyAFIAZqIQUMAQsgAyMASARAIAQgBCADEAIiB2ohBCADIAdqIQMMAQsLIAQLPAEEfyAAIQEDQCACIAFBAWoiAS0AACIEQf8AcSADdHIhAiADQQdqIQMgBEEHdQ0ACyABQQFqIABrIAJqCxIBAX8gACABIAEQASICEAMgAgskAANAIAJBAEoEQCAAIAJBAWsiAmogASACai0AADoAAAwBCwsLqQEBBn8gACQBQQAkAgNAIANBgAE6AICADyADQQFqIgNBgQNIDQALAkADQEEAEAYiBQRAIAQEf0EBBUGAAhAGCwRAQYECEAVBAWsiAkUNAwtBwQIQBSEGA0AgASABIAJrLQAAOgAAIAFBAWohASAGQQFrIgYNAAsFQQEhBwNAIAdBAXQgBxAGciIHQYACSA0ACyABIAc6AAAgAUEBaiEBCyAFIQQMAAsLIAELNAECfwNAIAAgAmoQBgRAIAEgACACakEgahAGIAJ0ciEBIAJBAWohAgwBCwsgAUEBIAJ0cgtxAQR%2FA0AjAkGAIEgEQCMCQQh0IwEtAAByJAIjAUEBaiQBDAELCyMCQf8BcSICIAAtAICADyIBIwJBCHUiA2xBgAIgAWsgA2wgAWsgAiABSCIEG2okAiAAIAFBByAEQYECbGogAWtBBHVqOgCAgA8gBAsMAEEAQYCEDxAEJAALC9gDAQBBAAvRAwF%2F%2F9fTKCTONmi84%2BnrbVSOH%2Fc6vSf%2BD4d9SJNBc3FX7QfUHxwdZoJ2gbrkOxXMlCFQohTpOfrqH2lON%2BKLJNVfU5Nu4GOO2WMojT29uFcnCJS3%2B1hbxaL%2Fh9lmLYb3zvWsMJ%2BjBoF3XH%2BX3PiQRGj3lSO6d6ROB1tLHAjBvc8KRcJC8ezAHO2KxgN0C60LhqDnEMNRGkiZIGd7vFakdzsTK52rXTWTEF%2BRtXf5UnppLVtDQaKioHW9qgBgNM8z076axgmmzZdgskOHHn3MVWuglavoCFh4dRFW5XmuZwoBT3HKAX%2F6xPFRb56MQoyggxfIPc7Po49uFG7BLqNaZm%2FVzLkVsqcnLbkOu67BrqPS6In7L9Zomf6E5PQp%2FK7DKV5%2FS%2Be15wnC3zqP1Bj6xLe3xzckXir7SHPZsep5NtRy%2FGpcseCHgPNHMos7xPQKdDO%2BAXqvMZuNdOwFZm6TmQ3vmMOdSSpn62axAi0QlRgoxhrA%2F42mIF6TkGbDAElqkMfF0EyKfip%2B2EPJtH7AksMALac%2BkjT9fyIQRGiD5HMZwCTKLxBLX3A07qdkKrXlR5i8pYOXZxAX4vyy9BKV8RfUfvEuqyNXXnBg4e%2BB%2FPnR%2Bg%3D%3D")));for(let e of["acos","asin","atan","atan2","cos","exp","log","sin","tan","pow"])Q.env[e]=Math[e];for(let e=9;e<64;++e)Q.env["reserved"+e]=()=>{};for(let e=0;e<16;++e)Q.env["g_reserved"+e]=0;r=D(r);let y=await w(e("data:;base64,Ar%2B3ssuLZ%2BtqJh3YJ%2F7KTLIkgSNHqx0wOCyO7SG6j3s2cO6jTk5t%2BmzzAN2I1cx%2B301%2FW00Angh90T4YZaakE3ty7z6v24aN%2F0c1adtgj9SVgr6tqezh5J3hJEq0R6JqY1qhAJo7TO4GDDYTm6YS6Cp9Qub1%2B1BC4Fkp%2BnQ9hW8UH3cRuadAcmews9JTmLcHYrlo6vE1gKW%2F6eCDC47QsgE%2FkKzsL544r0uMMYtAt5XCBYn81DxBloyxO5wv2vz17LFcABU27mgVMJm%2FLYYS2vR%2BX8muhVVUcq%2B5acRl0frik8wGy6IkdgCkVTtwu69FRVabIq0b7Joy1E9F4oZVs9%2Bfkc7H1A%2BzFoCc%2BMUpPNCNpO1LsS%2F3J049BAvfo0zYhVysV2Qn2zJykZtGn6HIThtzeiUDDwlDtKjCqvhLGtN9ehb2%2BLmqymh6YtC9e31u6QluBeeNaUf4iPfsErQeIo2fOQo1m%2FF973TUSc%2BHd2MV6Kxkgd%2BfxBjkBqJAhZ8rCXm8F7z8iCxjwrsg0as2sBy6TZT1QsFG2KfcQ0RdfEa9Hy0iOfzCjfK1A7EOmWdn07gAVQ55ydnnfnx%2FM%2BMMzppxbJMByYxhc68RmWKlgvvkDYGiUmhScbOU84XLkMOJiIEuk9ULRndUoL7%2Bx5gMEOvkMSnwUJwSpfCrBgzbOw4HMzkyRMzetW%2BFu0t4fjfsinZxm3cO0Ua1tlZKlyQfZlwSxN3ToIYSAPpFV8CZBNG%2B6MBkz8YMjbHIKq2oW9MdSCcEJAUhnMMTStI4vrim5tN2PWp%2Fq4Se9Kb4pYdgB7yiCBisptItg5kPKRnkeoAaJfsukt8DbMmD60oVnQchIjW83crlficK3j0yuIEdGPUIe84Y77eZQs7gJRibuomk%2BgQdxQZFWr6CtRUjOElzkH7WsITWArdLmJ9HAD1781zwk8G4qIRoPODHPN12szuG%2BxEgNLxdJO9mvg6aIUSBGAULGqGGhXJq1PNZMu36b93xFXCVGH3YojoJySzc0lTSel037EgQ7pGM6t3IF6CFAM9Y%2By56k%2FGe60vmwTQdCXLOY8ixYeLNb%2Fi0bXEwE%2FfXulpInKOodXqroRv%2F%2BBH5NETrjIc2yfWQ%2FQr76OW9AaYc4meD7q0MirAKrC%2FrJ1XCLMj698QP3cNchee303h8qykS0al0bpjIGk0E30AQrFOga2uqEleGvvSUm29kD7ubifnB1tckXWoAJ57yzuztPYKGEjRF2FpisszKYMB9ctHnRs7m7y5jeKBYFZtT8q88PXEKHPpbr6pdYhSnyrvKRvHJBtKhG%2Fi%2Fqgyru54js411WfnMOaRQvzYd%2FPeJIBmXxVqYF9iFl%2FCFXoxxKSxa%2Fj8AU4iEmxIfzNBjmo%2FC3h%2FrVItaUlCX6XuBAzy2LMh56ldsSsX%2BaazVIksxbWhArziJvhYCmlJiZzKFrnSWaCTuFVT%2BM2NKY%2BqrHs7gM9fesdDlKuoIB%2FmeiuQ0ZRbgSrvcLyfyMHGXblls%2BQfDWZCkvJQTpV4WvPjXQAnAgOIUoCmP%2FwRPqZxBPrRB5glIeS2vitqNFZsBu5E%2B5r%2BZSIEcICQfKH3XsYNnsjuEgFIWhbMWBleBth55vUcW3IV1la3Umv6WrRTlMHPvh3peWcb1tIIzNELWoIdGnchIrRvqCYE7S8L8B0u9CK3PjQiOHiZpwyu2KFLHRgiLCICvhBIZiEv7yCCsAm3aNERMO0N0Z%2FKryvnn8rDK%2BN7EdQxDe5OH%2BIwWSKiSBTYReYH3MscmMg0dF%2F6gPw0FitQlEtBJpepaMcgsXg00x4AO5wLwaW0OcU%2FBCoXgvW6q17yrEyrXlKavnw4KZn4R5cd5uFqakllDYi48z5Y0klZckwwTjXH0az806fBvKWtfhzpakSFWw1ycvD7XGgxfrp%2FnbigEy3acW2XEGVDecJKPQ2PYZiWA2I%2FcDrH9Bf9zN8VdpHYbt8gKxETdBaqlZWkiEnQ5RqH43BQbtktzfYEXysd%2FAHJH2Cxz6D5BV2PYmgcrC8oQcNUcmUrqbxVQVnhEEqlxeV3TgWbBUQ8itFRNl2%2Bkq8OugbRmZ%2FPV8%2Fa%2FH3zAhjSRlvm%2F1qO5p1OXy%2F68iZzWibT%2FyCT4DZ1hqkdsC%2FS3Eyw%2FWF6L1MjXlGooqHdk0UPorprOoan9p0Jx%2BBraZMQW5XFGRs4UDpkcmyIlVc37XI5KBUd0DIMHCpXSG1QOAGMAb648hRxo7piAFvGSvY3sqXQUSS3ONpoOzCSaccNlG4BZ6PJf22%2B6xIUxRfePZEQUvdp8A4mpfKsrqmnTbVboT7k9k9S2tLLA4Z2mCY84vXikLDUqwrRMknRqOtYQ42NEYWN6r8kgA3BHmmnVUpxLnSF1SMjP7XmQyr3SvM4%2F1AyX9DkxwNcdWombi0zC8NKJTT0fLDWP%2Fmb8xvtKM%2Byo4Y8e%2Fnbi%2Bx1I4s0xYfTnanW32Ie2OJPyX%2FoslTTWCilxr2G8qKHaw0RfF4zFDcIjQjN8ki43vgGV1Kse1pKQ6tm%2FVUZXaiAbhWDQ5Zj6QKZCKd%2FJN%2B%2BAYKqg6Bbt0kI15Z%2BccI%2BXD8DhHEvP5q4TcmsTUFqJe%2B7EH3flGtgmdk1%2BVDufX23Slitn3cQN%2BTGHzPVxlZOhzax381a0yWXhhDIrMQOWvvoPBplZ4Js6XfSv56wa1M0j6%2FVYvCsRr%2FH%2FT8fPCryCIHswV%2Bm6pXpNBaHaJUAC2VeVIAoIF7SDCC5NGI%2F4DNksMzqys5CLogez3vFtqb5kkIEKnC%2BRYSpjShbELLfZsDxersMtbtdhzpsUdSmax%2F7aoXC4QrHq29pPZM00MXTdByMY5iTumIUS6BkDZG%2BPmXR8kYqkl4dq423bbqUc3o%2BaYR8AlzMFudxdJRzuNVop5Xod7KfdrMexDCOKwimFYkesO9N9Us7zFrSjIckST9eU9RSbFdVK8PnHOEJjl9r1Z2bVQnOKb%2BijRqG2YpnT%2FWOL0wqRTjuZ7SwPdAcgXOCkG3UA%2F3NKJigVlz%2B72jZv7T%2FCNnyqZoiOTBU0dS%2FNt9lW1kovtNuMU2PdyAUG4TPKsfsiS22ngl6jTMpESP5AwUnK%2F47ZHF%2FIHLVhnKJyVvpyDvcl2Oxcgvk5Pk53oeef927nV6%2BA2TEb0yO17Clqs56KoETNzoa6aYgNPuT8F%2Bv0LhsU884tEFziBxnj9ib2TIgFKxWBwfdvHooASl7GbpB2KAs6Zhw2dtKzYlyGaiqC0HpE%2FCr3gMb4uSeB8eFAI1lkzNSQ0Rj1OHzGoDgvKJ3a0auXvTrSxpw7NnJU%2FrNmT%2BuOwwxiY%2FiL4oJGZUDK4R89DcdM0TnelRNA4GU7FWEa5UQdaWQPgG%2FhnI%2BxEwI7AHmVMftdd43Sb%2Bj6FH5EfuO0f5TFqwHdQsVHpq%2FA5XWaNbct%2FYFMo3oC8sZoC2ocAs2wAqBPTxKfIEahzhb%2FfvL4wQxkkq%2BJ9Q0o4c%2B2LsXpR2q4UKknhfMadPylfC9R83Oj1Upq4Wm3YUEe1bS%2BYiypxRiw4Ny7nwtcg6KkrPe0Ipt7bW88ECYVNPL5ZcvcFeJ8CBgqNdrKCUeoDjdKn5w27Blbaddm8g9YiMeqVpca15vTpA9Pi4B1zNRrZh%2BpalAdwkg1%2Bl6c6Cwt7nqPCNoqxvu89L0CSWBCkaTKff5zm96MPvvcrV82RiSAwKJhGZyNOxPKY5wjtAkvR3sXIl6httWZL7AoVELpnUst0CNemU2herfRocaxDFraOZri6jLPxXK3oakhuLiMDmeww4en7f%2FUQRN%2FQhtUrF4inzppK%2BsN5tqoNz5LnvY%2FTYkmpTomQupHHyLzh4kyyv%2BaABUAyuUReSGSSkHwqZMziBcO2d%2FlWw%2FKG9UJGYtTgYGU2prG88QDB2A6baIrHjyI1hQgz373I4Tk9Tyha1Lv0PTNYr1K7FKWlDWLsDytTIsOBrAnwPmVeTnigCZQ%2ByWrOeT9hNdA89D%2BvXFeYUAhj68%2FSbNlMj5U%2FvP4RgV2xgYMABTz16oriOGXg7fCzvNUe0bNuAAtWQQVhvCNh0KCAeJaWTSbRkMGPyvTepvjnwiCUOHax3j9w%2BFj5N6DKosbqGDw5GhER8%2B%2F98lM6%2BF%2FfqY5x7ehQI7JciD%2BQIxT%2FMFewjD48IWMh%2BODR%2FwG2fLT7dbjodeSvkC2fsCwYPE9iSndUaW3UGtp72xeAh2DIoIfd4ufQKnumg%2Fc%2FP9iflPz0%2FC%2FFdN60%2BHGTXdJMhGiGr9TlvqKSePt0sJjGLjJ%2FsyjqtF3guj%2Byg3j9BuT%2B7mmIaF2R%2FPTREfEh7jobg1DtPnNCCuivQogU5fIYbC1bTooTxIwZL3skwGi%2BA%2BrAoo6IQA6B3zjanKQ4sra1cJH6kFWTkuW%2FJf%2B%2BUtSCeSV1PUXHf3kJ7EvfJV0txWE2koTwzVjgYzXJQDL96muNiSJpuhB41u4LPx1YOWM2cGYOmeUHlQEPVD0zNEcaSPLd2lh13wWogkJNJEyaRSTzRMBcXTj7OEZ1mrvse%2F2%2B3zizfDy26mk7rhwE%2Fn4H4PosX99K%2FCR6%2B2p%2FB3QytJ%2BuwIiPyAO%2FmqRVyyuSzFn"));E.port.postMessage([y,r]);let p=await u(y);for(let e in p.exports)Q.env[e]=p.exports[e];let h=await u(r),M=a(F.data.buffer);await m;let k=Date.now();const b=1e3/60;let v=k;E.connect(C.destination),function e(){if(f)try{let t=Date.now(),B=!1;if(t>=v){let e=navigator.getGamepads(),s=0;for(let t=0;t<4;++t){let A=e[t];if(A){for(let e=0;e<8;++e){let a=(e+12)%16;A.buttons.length>a&&A.buttons[a].pressed&&(s|=1<<8*t+e)}if(A.axes.length>1)for(let e=0;e<4;++e){let a=A.axes[1-(e>>1)];(1&e?a:-a)>.5&&(s|=1<<8*t+e)}A.buttons.length>9&&A.buttons[9].pressed&&(B=!0)}}let n=a(o.buffer);n[16]=t-k,n[17]=c|s,h.exports.upd&&h.exports.upd(),p.exports.endFrame();let r=new ArrayBuffer(32);A(r).set(A(o.buffer,80,32)),E.port.postMessage(r,[r]);let d=a(o.buffer,77824,1024);for(let e=0;e<76800;++e)M[e]=4278190080|d[i[e+120]];l.putImageData(F,0,0),v=Math.max(v+b,t)}B?g(n):window.requestAnimationFrame(e)}catch(e){s.setMessage(I,e.toString())}}()}catch(e){s.setMessage(I,e.toString())}}function f(e,t){let A=document.createElement("a");A.href=URL.createObjectURL(e),A.download="microw8_"+(new Date).toISOString()+t,A.click(),URL.revokeObjectURL(A.href)}return{runModule:g,runModuleFromURL:async function(e,t){let A=await fetch(e),a=A.headers.get("Content-Type");return!(a&&a.includes("html")||200!=A.status)&&(g(await A.arrayBuffer(),t||d),!0)},setDevkitMode:e=>d=e}}(document.getElementById("screen"),{setMessage:(e,t)=>{let A=document.getElementById("message");t&&(A.innerText=t),A.hidden=!t}});new EventSource("events").onmessage=e=>{console.log(e.data),"L"==e.data&&B.runModuleFromURL("cart",!0)},B.runModuleFromURL("cart",!0);</script></html>