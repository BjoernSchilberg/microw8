<!doctype html><html><head><meta charset="utf8"><title>uw8-run</title><style>body,canvas,html{background-color:#202024;margin:0;padding:0}body,html{height:100%}body{display:grid;grid-template-rows:1fr}#screen{align-self:center;border:4px solid #303040;image-rendering:pixelated;justify-self:center}#message{background-color:rgba(0,0,0,.4);color:#c64;font:700 12pt sans-serif;padding:8px;position:absolute;width:calc(100% - 16px);z-index:2}@media (min-width:648px) and (min-height:488px){#screen{height:480px;width:640px}}@media (min-width:968px) and (min-height:728px){#screen{height:720px;width:960px}}</style></head><body> <canvas id="screen" width="320" height="240" tabindex="1"> </canvas> <div id="message"></div> </body><script type="module">function e(e){return e&&e.__esModule?e.default:e}class t extends AudioWorkletNode{constructor(e){super(e,"apu",{outputChannelCount:[2]})}}let A=(...e)=>new Uint8Array(...e),B=(...e)=>new Uint32Array(...e);let a=function(a,o={}){o.setMessage||(o.setMessage=(e,t)=>{t&&console.log("error: "+t)});let s,n,r,i,l=a.getContext("2d"),d=l.createImageData(320,240),F=o.devkitMode,c=0,g=null==o.keyboardElement?a:o.keyboardElement;if(g){let e=e=>{let t,A="keydown"==e.type;switch(e.code){case"ArrowUp":t=1;break;case"ArrowDown":t=2;break;case"ArrowLeft":t=4;break;case"ArrowRight":t=8;break;case"KeyZ":t=16;break;case"KeyX":t=32;break;case"KeyA":t=64;break;case"KeyS":t=128;break;case"KeyR":A&&D(n,!0);break;case"F9":A&&a.toBlob((e=>{u(e,".png")})),e.preventDefault();break;case"F10":A&&function(){if(r)return r.stop(),void(r=null);r=new MediaRecorder(a.captureStream(),{mimeType:"video/webm",videoBitsPerSecond:25e6});let e=[];r.ondataavailable=t=>{e.push(t.data)};let t=o.timerElement;t&&(t.hidden=!1,t.innerText="00:00");function A(){if(i){if(t){let e=Math.floor((Date.now()-i)/1e3);t.innerText=Math.floor(e/60).toString().padStart(2,"0")+":"+(e%60).toString().padStart(2,"0")}setTimeout(A,1e3)}}r.onstop=()=>{t&&(t.hidden=!0),u(new Blob(e,{type:"video/webm"}),".webm")},r.start(),i=Date.now(),setTimeout(A,1e3)}(),e.preventDefault()}A?c|=t:c&=~t};g.onkeydown=e,g.onkeyup=e}async function D(r,i){s&&(s(),s=null);let g=new AudioContext({sampleRate:44100}),u=!0;s=()=>{g.close(),u=!1};let f=r.byteLength;if(o.setMessage(f),0==f)return;await g.audioWorklet.addModule(e("data:application/javascript,let%20e%3D%28...e%29%3D%3Enew%20Uint8Array%28...e%29%3Bclass%20s%20extends%20AudioWorkletProcessor%7Bconstructor%28%29%7Bsuper%28%29%2Cthis.sampleIndex%3D0%2Cthis.port.onmessage%3Ds%3D%3E%7Bthis.memory%3Fe%28this.memory.buffer%2C80%2C32%29.set%28e%28s.data%29%29%3Athis.load%28s.data%5B0%5D%2Cs.data%5B1%5D%29%7D%7Dasync%20load%28e%2Cs%29%7Blet%20t%3Dnew%20WebAssembly.Memory%28%7Binitial%3A4%2Cmaximum%3A4%7D%29%2Ca%3D%7Benv%3A%7Bmemory%3At%7D%7D%3Bfor%28let%20e%20of%5B%22acos%22%2C%22asin%22%2C%22atan%22%2C%22atan2%22%2C%22cos%22%2C%22exp%22%2C%22log%22%2C%22sin%22%2C%22tan%22%2C%22pow%22%5D%29a.env%5Be%5D%3DMath%5Be%5D%3Bfor%28let%20e%3D9%3Be%3C64%3B%2B%2Be%29a.env%5B%22reserved%22%2Be%5D%3D%28%29%3D%3E%7B%7D%3Bfor%28let%20e%3D0%3Be%3C16%3B%2B%2Be%29a.env%5B%22g_reserved%22%2Be%5D%3D0%3Blet%20r%3Dasync%20e%3D%3E%28await%20WebAssembly.instantiate%28e%2Ca%29%29.instance%2Cn%3Dawait%20r%28e%29%3Bfor%28let%20e%20in%20n.exports%29a.env%5Be%5D%3Dn.exports%5Be%5D%3Blet%20o%3Dawait%20r%28s%29%3Bthis.memory%3Dt%2Cthis.snd%3Do.exports.snd%7C%7Cn.exports.gesSnd%2Cthis.port.postMessage%282%29%7Dprocess%28e%2Cs%2Ct%29%7Bif%28this.snd%29%7Blet%20e%3Ds%5B0%5D%2Ct%3Dthis.sampleIndex%2Ca%3De%5B0%5D.length%3Bfor%28let%20s%3D0%3Bs%3Ca%3B%2B%2Bs%29e%5B0%5D%5Bs%5D%3Dthis.snd%28t%2B%2B%29%2Ce%5B1%5D%5Bs%5D%3Dthis.snd%28t%2B%2B%29%3Bthis.sampleIndex%3D4294967295%26t%7Dreturn%210%7D%7DregisterProcessor%28%22apu%22%2Cs%29%3B"));let y,C=new t(g),w=0,E=new Promise((e=>y=e)),I=e=>{w|=e,3==w&&y&&(y(!0),y=null)};C.port.onmessage=e=>I(e.data);let Q=()=>{"suspended"==g.state?(o.startButton&&(o.startButton.style="",a.style="display:none"),(o.startButton||a).onclick=()=>{g.resume()}):(o.startButton&&(o.startButton.style="display:none",a.style=""),I(1))};g.onstatechange=Q,Q(),n=r;let p=window.location.pathname;if(f<=1024&&!i){let e="";for(let t of A(r))e+=String.fromCharCode(t);p+="#"+btoa(e),p!=window.location.pathname+window.location.hash&&history.pushState(null,null,p)}a.width=a.width;try{let t={initial:4};F||(t.maximum=4);let a,s=new WebAssembly.Memory(t),i=A(s.buffer),y={env:{memory:s}},w=e=>{if(a&&(!F||0!=A(e)[0])){i.set(A(e));let t=a.exports.load_uw8(e.byteLength);e=new ArrayBuffer(t),A(e).set(i.slice(0,t))}return e},I=async e=>(await WebAssembly.instantiate(e,y)).instance,Q=async e=>w(await(await fetch(e)).arrayBuffer());a=await I(await Q(e("data:application/wasm;base64,AGFzbQEAAAABFQRgAX8Bf2ACf38Bf2ADf39%2FAGAAAAIPAQNlbnYGbWVtb3J5AgAEAwkIAAABAgEAAAMGEAN%2FAUEAC38BQQALfwFBAAsHGQIIbG9hZF91dzgAAAp1bmNvbXByZXNzAAQIAQcKngUIxwEBB39BAC0AAEEBayIBQQBIBEAgAA8LQYDAByAAaiECIAFBAXEEQEEBQYHABxAEIQIFQYDAB0EAIAAQAwtBAEGAhA9BCBADQYiEDyEDQQghBEGBwAchBQNAIAUgAkggAyMATiAFLQAAIAMtAABMcnEEQCAEIAQgBRACIgZqIQQgAyMASCAFLQAAIAMtAABGcQRAIAMgAxABaiEDCyAFIAZqIQUMAQsgAyMASARAIAQgBCADEAIiB2ohBCADIAdqIQMMAQsLIAQLPAEEfyAAIQEDQCACIAFBAWoiAS0AACIEQf8AcSADdHIhAiADQQdqIQMgBEEHdQ0ACyABQQFqIABrIAJqCxIBAX8gACABIAEQASICEAMgAgskAANAIAJBAEoEQCAAIAJBAWsiAmogASACai0AADoAAAwBCwsLqQEBBn8gACQBQQAkAgNAIANBgAE6AICADyADQQFqIgNBgQNIDQALAkADQEEAEAYiBQRAIAQEf0EBBUGAAhAGCwRAQYECEAVBAWsiAkUNAwtBwQIQBSEGA0AgASABIAJrLQAAOgAAIAFBAWohASAGQQFrIgYNAAsFQQEhBwNAIAdBAXQgBxAGciIHQYACSA0ACyABIAc6AAAgAUEBaiEBCyAFIQQMAAsLIAELNAECfwNAIAAgAmoQBgRAIAEgACACakEgahAGIAJ0ciEBIAJBAWohAgwBCwsgAUEBIAJ0cgtxAQR%2FA0AjAkGAIEgEQCMCQQh0IwEtAAByJAIjAUEBaiQBDAELCyMCQf8BcSICIAAtAICADyIBIwJBCHUiA2xBgAIgAWsgA2wgAWsgAiABSCIEG2okAiAAIAFBByAEQYECbGogAWtBBHVqOgCAgA8gBAsMAEEAQYCEDxAEJAALC9gDAQBBAAvRAwF%2F%2F9fTKCTONmi84%2BnrbVSOH%2Fc6vSf%2BD4d9SJNBc3FX7QfUHxwdZoJ2gbrkOxXMlCFQohTpOfrqH2lON%2BKLJNVfU5Nu4GOO2WMojT29uFcnCJS3%2B1hbxaL%2Fh9lmLYb3zvWsMJ%2BjBoF3XH%2BX3PiQRGj3lSO6d6ROB1tLHAjBvc8KRcJC8ezAHO2KxgN0C60LhqDnEMNRGkiZIGd7vFakdzsTK52rXTWTEF%2BRtXf5UnppLVtDQaKioHW9qgBgNM8z076axgmmzZdgskOHHn3MVWuglavoCFh4dRFW5XmuZwoBT3HKAX%2F6xPFRb56MQoyggxfIPc7Po49uFG7BLqNaZm%2FVzLkVsqcnLbkOu67BrqPS6In7L9Zomf6E5PQp%2FK7DKV5%2FS%2Be15wnC3zqP1Bj6xLe3xzckXir7SHPZsep5NtRy%2FGpcseCHgPNHMos7xPQKdDO%2BAXqvMZuNdOwFZm6TmQ3vmMOdSSpn62axAi0QlRgoxhrA%2F42mIF6TkGbDAElqkMfF0EyKfip%2B2EPJtH7AksMALac%2BkjT9fyIQRGiD5HMZwCTKLxBLX3A07qdkKrXlR5i8pYOXZxAX4vyy9BKV8RfUfvEuqyNXXnBg4e%2BB%2FPnR%2Bg%3D%3D")));for(let e of["acos","asin","atan","atan2","cos","exp","log","sin","tan","pow"])y.env[e]=Math[e];for(let e=9;e<64;++e)y.env["reserved"+e]=()=>{};for(let e=0;e<16;++e)y.env["g_reserved"+e]=0;r=w(r);let p=await Q(e("data:;base64,Ag5%2F0wI96v%2BFMosfdFDl3mFxHS6ueshLBvS6yai%2B6CgywEqDYONlANBVuUlRUDEobWM0vbg1CqiWdKa79J9gcWzScOHgroDRjAy1RqEQpa1VDuHK%2FUzUNoK2nmUyAPEcP8wmrPu1iOjEgdCVw7zkPCKkDtrNsom5yosffUY6OqOJGzTFsDm5lFOniS%2FODbiR9ovpMgvs6LnNvzC3N6CBtD84US0a8gBFKf5gi80zLEiDtsc7p0JSVRZUIHYU1paO%2FBloAd%2FnRK1IeZln%2Bhd67%2BcjSDXk1nHCbBlAEwKLw6bOiL4blcoDD9ScxW5xnPylKuP1WF1edPt3WwF5EUNmI6OS2dXVSp2HafGPOM0b3YLowbeb%2FvyhEk6GkguT9NrO22Iy%2FYWZZDvYk0t5J5bm%2FffnsOUoq8SGTuK2povyoM1%2BHkR0a7qfnsOVl7ZEqqg3BfkCu2ULT8RlvR%2BjjVuHCc347jYVj5ftB%2Bn76vlC5q4ceyjJ%2FCqrp3g7fTcl8daMVHW4ShltjUdvTQg13uUinC1E2cg%2F85YCpqi%2FfX5yIZL0UwcLaFf4k4i7MrQJRhotsTds6GKIz6l%2BUr466r0xZJhztN9sZbSx%2B%2FUN3sXExPNwhtcdZ0JhhzVpKqLBoVrtP6vyWrR8kR%2BcsI7uSq6Qt9nYkB7DcSHWLS7iSMgmbvtwKDimvZEiJ%2FN1A86OF9kEkpMY8hLQo1u5aosnMHE%2FAJA3TcY06Fwc1vd%2BQeHnezBUZ5dj9pdkx3GsmTh8C%2Fq6Jzn4Mg1ZN4aitQ991Y%2FyAyg1LPkggsDkf3K7c69YQK8%2BczjutJVU6wBvhh5JQmL8pluRY8GgF4VPqhbfj8YezEOB1BzufBHGpPYsDpPk3aGkDSwz2hOEZVtayuTEMvBr6ZMxov7S5TP%2FMYwhVPq0tdUgTmpkyouhor60BlXl0ujSFbxdNBHvagdjoIO9sxNJadiqONF0r8KJG7KTXRov16VzQHUAfSE4z%2Fx%2FRlseVo3DC85UtN6DsxZYBnQcgfmr6Tx%2Fyr0S%2FJQ4RbBxiaT7Tf88V1Pu11rElwh9VPki5dXLfiBD3dSJYNPx0h61tfw92MZh2IBPbCqRZxNHNJ0zQNPHW18IVcOmupWlKZQTXbbTTUvw3ldB%2BXwtrZiyK3yyXLDDhbJNAoQcX4jz9caI7a7HEUidPdsQMudzQ6%2BsdPKHlifsVhFmSqCx%2BCUwMVhNd7ypvlO6aMM5ATZqjBfmF4boythkXz%2BmV8PoyxHaBq3SUOzg1p%2B0MS8NXIM0iiur%2FxPCi1rR1KZ%2BkDNsbV2tQB5Ko8WLpBMFDLilH%2BNJ7CQl5%2B2Pg3bQOiq5mogO43cG3FeAY%2BPSA6MNDIK3TkmIdGT2LyyuMgesAMuNXW%2FCnYSlWHO9Vf4Kiupg%2FNy%2FCy4jDQdSoAlvLkZB%2BqTQpuFchonCIXIsnuUkpMEEQvIafDjoJtzv86JKvn2u3FuaeIfatfBzDAcJAwYrBGhajoDKCIZSXUFW16SQobrw7yeTq5WNFZECMQdvh1nf4o2XCYcbwDGPjpMOnGtpo8fZ7wBiiGy2jR4VJDy4GnMhcDHC7iEXFQYceFDEsEaX%2Fxt4mUqNhMYjoKGJk1dlIUFDdGzFn1CQHpRWC3K1YLEh6AyiBub6QYA7Xaqhwgc%2BJR%2BYwriY8rOCEwUYs3zhl2KB3FNua96k8RChUOviR30JlN3go9USKtex62LGIJBoFcj121tyFJDNk7gje%2BBkImUlKwB0l9kouXSuK%2BFpbK0yBOCnd1qNjLEVSmKc%2BWEBNPwMjng1n17EGNdb6S5yuBzVysx4iVXTHbHbKwOPylRVpWa8nELbrgazaEk9GZqNbz9b5MduQ%2BCPwZjiMeMUCjus6OMTma3eIWwqfJuA4RKH0ju3lBi53YjPwDvWVUyHf%2BIgtUlfPHVsworONkV0FsPDHmLIAQ9t0kDyovGxrSUDJmLohBojjbW01KvLBFBKorPJd7mffkaats88ydEntWPI9SQtrj5s%2FpyGtYZ%2BzlXBn10IlIMYbwtlOZLhctzcwq6fMCT0BGqk3CWwOZ%2F%2BsCzxGLAfWWRdNoyYBiLTDOrPpZ6iHeHuzbrrACS7bz6On5A5SYY1eYqzbYFWFObwEl3VzO%2Fy%2FAh8UifnKDTNDlxLI%2F6YvREDMcN57ZGYdTvN7ztxmfqILPXmOkkxAQJYayeClj8RmxQkiWjCbBF4Yzb2NBJ3Hbyjztpao5Nm1p2La1pSB170LhWtAQ52jiotePWX8DMUtM88dF2Pd%2B5zmMjgfgJXcf4L3%2BycezGwGt7hQCMFJT6inJtMPRWxZP0TUiSrlEiHWJivVynEf4VcL5y8exbpp2EylqPcNxuAhgU26ItRccY3JIX%2BpmyJQKhyNNulrb0TuYJLHBeQdlsdzysxCWiBZmszorG%2Ble1xgn8GAqL0rN%2FLDOtqk61K0jGO2AnzPlFKMHXv77pzXSOZBbUBRBu%2BCnitUlWYKnWE69RnSJcImjqsn56W%2BjHLFY1BJixqviJEYOkh%2FFZKYMXgLb0DcOnd2DUPDjtzNyEAI0Iv%2B%2F35DA7bPdTql9QthoopXodNnSKiOo7OiA2KHyybXjhTo8zyD7Clz7%2BlodbRw9BjABZiv7Xd3CtnsqQq2l15LMzvHAvnsraWUsQ%2F9AcoU0Cex5fV1wuYuG8dc2Fez2HuHW%2FXn6EXdSkIloyRKxdQzQGDkX4LnYe5VosmxOY6XrWU1gxMscP%2FZbYje7sOdxVcX4HQFCLF1HYsTgb1sn%2FxwleisOUp09VLglnSjt0HPSqThdnyfpkPZcTORSLMu3Wt5lKUSrvw9pIoIgQkjA8i673tmWnJX3%2Fto5xT0gGtWYomXyIkQLuFNKxy7FHvB3dpUXA4bnDWpACXtHTD1mgidDIJS%2FRfvHt036rWxbPGPSila3kUuJnkSBaUYJEaB1YMHPBJrLmuRXHu5qWWd2bFz0T%2FtJOSZljiJ0%2FRJvkRVpKOvoPzxwqwD47uYajaehdLjrWgjqg6V3mY5isGekJVHgG48Kg2dw5CgPCQt9q25ijBfpSvlPWkHyo4P0cLGVNokkBrWidIRLP%2BrIn2USX1pg9Deiwu8fb2vXZfkgZkFvejUsyzRphcb%2BDF9JUWvxLx9gBHcGIxt2FmeHv0jLq5Rh7jwVM%2Bv%2Fdt9dPNGcNQE3K9utzg3psvHpqNVW%2BfGbIXUwtB7OI8mgBN9AsMvVthIRRfB%2BDi98i%2BBoZMN6IvG8kcS3E4%2BJRVBClfFW8R2Ba44tgFSXkAan4EwOe%2BD2VMVqxaKiSthSU%2FSBfYzPW%2FezcH2uapZI5AcohrwoipyjwrdaOw0oxSH1kuprES16HbpLgS3tWVkej4CenbymQ3JIbbElts%2BlPiuqS1Mr4qfqn%2Flk1Z5XkdbD1kG%2B9o0orXf9Z0BLW2Nm1%2BZLCPuhOzOcFcPWuGFQt8KiiRVBmr%2Bf9XqmV4mcmRevuyq8Z%2FTKcJyGc%2FXL93dpuucf4wX%2F96RAHvHDa9qrtLL7OyOckNZcuD%2B9aAFjOS%2BBwmEn4wyZrDTrjdxUzp6TOADYlYWgt2LFxqfak9yZfsOG8A2N9T82XM8KJpntjySm3%2B3lDrhDuHXwJNid496SJZWzh2CgVPfr20EPidUMQFsYOqpEBlaLjTARasOjmz%2FTo5I1LyPGa%2BH1hOebpyxIGywKEQtIBcpS2JS0frEY2byOVhANM0oIwTCYVgf8xNlwCmDjphWlVTNn9aBfWI%2Ba4kt%2BEAhzPJvZnnwrUlMdeKJcQxDTBi7VuokSWaz%2BtbEFkfwt7X7oKRjk%2FG6v5X%2BSxEcX4zqM6L1cFb8yurunIOkDSWnc8D%2FwIRVyJ26dchoE3u15XPzMifxaaXOfC6L8YlAX1E3VP0YrnBFrhThDp4ieVuZNidGebCx23xkwZQOKB9%2B%2FspCSqoXCjJNYgGsWFWCCyx1%2BcjgrPM5z1YxewCtwMVkONUzqgA71GCmeFKxvmkG6OOJsX3yq2iLS7M9suZBbKz17Vyo7bn3khAQ8ttF%2FsLYRURBl5u2jbWMoY0SxBPrHg%2B0XTUlBLrT%2B0F9oNJI5QPRBHFWVm3gr3yOWxn%2FeY9AoMSU%2B7mKH7g5IfNE85D7Fk05iHQntikYaKNKBKTobIp9WQNTn6ioVowfjgjgyHy%2FBKzZNb4ixGhC0IP1fBXmpIchDF%2BxGigUZL%2FpBWvdHJ37AfIBA9NBtzAtXzpNc6GWwK%2Bw9dleTcUE9PkBAFiDq3nor51sGzYcRGb%2FGEM69h%2FIpWD7jaSMG7mvuQcAfWktjMPib4HIfbxZUVIffYdNMJXUhlGw%2FQiGmyWpoZkUtlv0BG0yfSJuNMiB3OqBklt6DMZJmyslF7MudZly675%2FtgBz%2BPYcm6CdIaVqyqpzBuJ7KNJtAXwi%2BzP8MjNoOEF%2FOwEew4HEtbZGqsF1jpGZw%3D%3D"));C.port.postMessage([p,r]);let m=await I(p);for(let e in m.exports)y.env[e]=m.exports[e];let b=await I(r),h=B(d.data.buffer);await E;let M=Date.now();const k=1e3/60;let x=M;C.connect(g.destination),function e(){if(u)try{let t=Date.now(),a=!1;if(t>=x){let e=navigator.getGamepads(),o=0;for(let t=0;t<4;++t){let A=e[t];if(A){for(let e=0;e<8;++e){let B=(e+12)%16;A.buttons.length>B&&A.buttons[B].pressed&&(o|=1<<8*t+e)}if(A.axes.length>1)for(let e=0;e<4;++e){let B=A.axes[1-(e>>1)];(1&e?B:-B)>.5&&(o|=1<<8*t+e)}A.buttons.length>9&&A.buttons[9].pressed&&(a=!0)}}let n=B(s.buffer);n[16]=t-M,n[17]=c|o,b.exports.upd&&b.exports.upd(),m.exports.endFrame();let r=new ArrayBuffer(32);A(r).set(A(s.buffer,80,32)),C.port.postMessage(r,[r]);let F=B(s.buffer,77824,1024);for(let e=0;e<76800;++e)h[e]=4278190080|F[i[e+120]];l.putImageData(d,0,0),x=Math.max(x+k,t)}a?D(n):window.requestAnimationFrame(e)}catch(e){o.setMessage(f,e.toString())}}()}catch(e){o.setMessage(f,e.toString())}}function u(e,t){let A=document.createElement("a");A.href=URL.createObjectURL(e),A.download="microw8_"+(new Date).toISOString()+t,A.click(),URL.revokeObjectURL(A.href)}return{runModule:D,runModuleFromURL:async function(e,t){let A=await fetch(e),B=A.headers.get("Content-Type");return!(B&&B.includes("html")||200!=A.status)&&(D(await A.arrayBuffer(),t||F),!0)},setDevkitMode:e=>F=e}}(document.getElementById("screen"),{setMessage:(e,t)=>{let A=document.getElementById("message");t&&(A.innerText=t),A.hidden=!t}});new EventSource("events").onmessage=e=>{console.log(e.data),"L"==e.data&&a.runModuleFromURL("cart",!0)},a.runModuleFromURL("cart",!0);</script></html>