<!doctype html><html><head><meta charset="utf8"><title>uw8-run</title><style>body,canvas,html{background-color:#202024;margin:0;padding:0}body,html{height:100%}body{display:grid;grid-template-rows:1fr}#screen{align-self:center;border:4px solid #303040;image-rendering:pixelated;justify-self:center}#message{background-color:rgba(0,0,0,.4);color:#c64;font:700 12pt sans-serif;padding:8px;position:absolute;width:calc(100% - 16px);z-index:2}@media (min-width:648px) and (min-height:488px){#screen{height:480px;width:640px}}@media (min-width:968px) and (min-height:728px){#screen{height:720px;width:960px}}</style></head><body> <canvas id="screen" width="320" height="240" tabindex="1"> </canvas> <div id="message"></div> </body><script type="module">function e(e){return e&&e.__esModule?e.default:e}class t extends AudioWorkletNode{constructor(e){super(e,"apu",{outputChannelCount:[2]})}}let A=(...e)=>new Uint8Array(...e),a=(...e)=>new Uint32Array(...e);let B=function(B,n={}){n.setMessage||(n.setMessage=(e,t)=>{t&&console.log("error: "+t)});let s,r,o,i,l=B.getContext("2d"),c=l.createImageData(320,240),F=n.devkitMode,g=0,d=null==n.keyboardElement?B:n.keyboardElement;if(d){let e=e=>{let t,A="keydown"==e.type;switch(e.code){case"ArrowUp":t=1;break;case"ArrowDown":t=2;break;case"ArrowLeft":t=4;break;case"ArrowRight":t=8;break;case"KeyZ":t=16;break;case"KeyX":t=32;break;case"KeyA":t=64;break;case"KeyS":t=128;break;case"KeyR":A&&f(r,!0);break;case"F9":A&&B.toBlob((e=>{D(e,".png")})),e.preventDefault();break;case"F10":A&&function(){if(o)return o.stop(),void(o=null);o=new MediaRecorder(B.captureStream(),{mimeType:"video/webm",videoBitsPerSecond:25e6});let e=[];o.ondataavailable=t=>{e.push(t.data)};let t=n.timerElement;t&&(t.hidden=!1,t.innerText="00:00");function A(){if(i){if(t){let e=Math.floor((Date.now()-i)/1e3);t.innerText=Math.floor(e/60).toString().padStart(2,"0")+":"+(e%60).toString().padStart(2,"0")}setTimeout(A,1e3)}}o.onstop=()=>{t&&(t.hidden=!0),D(new Blob(e,{type:"video/webm"}),".webm")},o.start(),i=Date.now(),setTimeout(A,1e3)}(),e.preventDefault()}A?g|=t:g&=~t};d.onkeydown=e,d.onkeyup=e}async function f(o,i){s&&(s(),s=null);let d=new AudioContext({sampleRate:44100}),D=!0;s=()=>{d.close(),D=!1};let C=o.byteLength;if(n.setMessage(C),0==C)return;await d.audioWorklet.addModule(e("data:application/javascript,let%20e%3D%28...e%29%3D%3Enew%20Uint8Array%28...e%29%3Bclass%20s%20extends%20AudioWorkletProcessor%7Bconstructor%28%29%7Bsuper%28%29%2Cthis.sampleIndex%3D0%2Cthis.port.onmessage%3Ds%3D%3E%7Bthis.memory%3Fe%28this.memory.buffer%2C80%2C32%29.set%28e%28s.data%29%29%3Athis.load%28s.data%5B0%5D%2Cs.data%5B1%5D%29%7D%7Dasync%20load%28e%2Cs%29%7Blet%20t%3Dnew%20WebAssembly.Memory%28%7Binitial%3A4%2Cmaximum%3A4%7D%29%2Ca%3D%7Benv%3A%7Bmemory%3At%7D%7D%3Bfor%28let%20e%20of%5B%22acos%22%2C%22asin%22%2C%22atan%22%2C%22atan2%22%2C%22cos%22%2C%22exp%22%2C%22log%22%2C%22sin%22%2C%22tan%22%2C%22pow%22%5D%29a.env%5Be%5D%3DMath%5Be%5D%3Bfor%28let%20e%3D9%3Be%3C64%3B%2B%2Be%29a.env%5B%22reserved%22%2Be%5D%3D%28%29%3D%3E%7B%7D%3Bfor%28let%20e%3D0%3Be%3C16%3B%2B%2Be%29a.env%5B%22g_reserved%22%2Be%5D%3D0%3Blet%20r%3Dasync%20e%3D%3E%28await%20WebAssembly.instantiate%28e%2Ca%29%29.instance%2Cn%3Dawait%20r%28e%29%3Bfor%28let%20e%20in%20n.exports%29a.env%5Be%5D%3Dn.exports%5Be%5D%3Blet%20o%3Dawait%20r%28s%29%3Bthis.memory%3Dt%2Cthis.snd%3Do.exports.snd%2Cthis.port.postMessage%282%29%7Dprocess%28e%2Cs%2Ct%29%7Bif%28this.snd%29%7Blet%20e%3Ds%5B0%5D%2Ct%3Dthis.sampleIndex%2Ca%3De%5B0%5D.length%3Bfor%28let%20s%3D0%3Bs%3Ca%3B%2B%2Bs%29e%5B0%5D%5Bs%5D%3Dthis.snd%28t%2B%2B%29%2Ce%5B1%5D%5Bs%5D%3Dthis.snd%28t%2B%2B%29%3Bthis.sampleIndex%3D4294967295%26t%7Dreturn%210%7D%7DregisterProcessor%28%22apu%22%2Cs%29%3B"));let Q,u=new t(d),E=0,I=new Promise((e=>Q=e)),m=e=>{E|=e,3==E&&Q&&(Q(!0),Q=null)};u.port.onmessage=e=>m(e.data);let p=()=>{"suspended"==d.state?(n.startButton&&(n.startButton.style="",B.style="display:none"),(n.startButton||B).onclick=()=>{d.resume()}):(n.startButton&&(n.startButton.style="display:none",B.style=""),m(1))};d.onstatechange=p,p(),r=o;let w=window.location.pathname;if(C<=1024&&!i){let e="";for(let t of A(o))e+=String.fromCharCode(t);w+="#"+btoa(e),w!=window.location.pathname+window.location.hash&&history.pushState(null,null,w)}B.width=B.width;try{let t={initial:4};F||(t.maximum=4);let B,s=new WebAssembly.Memory(t),i=A(s.buffer),Q={env:{memory:s}},E=e=>{if(B&&(!F||0!=A(e)[0])){i.set(A(e));let t=B.exports.load_uw8(e.byteLength);e=new ArrayBuffer(t),A(e).set(i.slice(0,t))}return e},m=async e=>(await WebAssembly.instantiate(e,Q)).instance,p=async e=>E(await(await fetch(e)).arrayBuffer());B=await m(await p(e("data:application/wasm;base64,AGFzbQEAAAABFQRgAX8Bf2ACf38Bf2ADf39%2FAGAAAAIPAQNlbnYGbWVtb3J5AgAEAwkIAAABAgEAAAMGEAN%2FAUEAC38BQQALfwFBAAsHGQIIbG9hZF91dzgAAAp1bmNvbXByZXNzAAQIAQcKngUIxwEBB39BAC0AAEEBayIBQQBIBEAgAA8LQYDAByAAaiECIAFBAXEEQEEBQYHABxAEIQIFQYDAB0EAIAAQAwtBAEGAhA9BCBADQYiEDyEDQQghBEGBwAchBQNAIAUgAkggAyMATiAFLQAAIAMtAABMcnEEQCAEIAQgBRACIgZqIQQgAyMASCAFLQAAIAMtAABGcQRAIAMgAxABaiEDCyAFIAZqIQUMAQsgAyMASARAIAQgBCADEAIiB2ohBCADIAdqIQMMAQsLIAQLPAEEfyAAIQEDQCACIAFBAWoiAS0AACIEQf8AcSADdHIhAiADQQdqIQMgBEEHdQ0ACyABQQFqIABrIAJqCxIBAX8gACABIAEQASICEAMgAgskAANAIAJBAEoEQCAAIAJBAWsiAmogASACai0AADoAAAwBCwsLqQEBBn8gACQBQQAkAgNAIANBgAE6AICADyADQQFqIgNBgQNIDQALAkADQEEAEAYiBQRAIAQEf0EBBUGAAhAGCwRAQYECEAVBAWsiAkUNAwtBwQIQBSEGA0AgASABIAJrLQAAOgAAIAFBAWohASAGQQFrIgYNAAsFQQEhBwNAIAdBAXQgBxAGciIHQYACSA0ACyABIAc6AAAgAUEBaiEBCyAFIQQMAAsLIAELNAECfwNAIAAgAmoQBgRAIAEgACACakEgahAGIAJ0ciEBIAJBAWohAgwBCwsgAUEBIAJ0cgtxAQR%2FA0AjAkGAIEgEQCMCQQh0IwEtAAByJAIjAUEBaiQBDAELCyMCQf8BcSICIAAtAICADyIBIwJBCHUiA2xBgAIgAWsgA2wgAWsgAiABSCIEG2okAiAAIAFBByAEQYECbGogAWtBBHVqOgCAgA8gBAsMAEEAQYCEDxAEJAALC9gDAQBBAAvRAwF%2F%2F9fTKCTONmi84%2BnrbVSOH%2Fc6vSf%2BD4d9SJNBc3FX7QfUHxwdZoJ2gbrkOxXMlCFQohTpOfrqH2lON%2BKLJNVfU5Nu4GOO2WMojT29uFcnCJS3%2B1hbxaL%2Fh9lmLYb3zvWsMJ%2BjBoF3XH%2BX3PiQRGj3lSO6d6ROB1tLHAjBvc8KRcJC8ezAHO2KxgN0C60LhqDnEMNRGkiZIGd7vFakdzsTK52rXTWTEF%2BRtXf5UnppLVtDQaKioHW9qgBgNM8z076axgmmzZdgskOHHn3MVWuglavoCFh4dRFW5XmuZwoBT3HKAX%2F6xPFRb56MQoyggxfIPc7Po49uFG7BLqNaZm%2FVzLkVsqcnLbkOu67BrqPS6In7L9Zomf6E5PQp%2FK7DKV5%2FS%2Be15wnC3zqP1Bj6xLe3xzckXir7SHPZsep5NtRy%2FGpcseCHgPNHMos7xPQKdDO%2BAXqvMZuNdOwFZm6TmQ3vmMOdSSpn62axAi0QlRgoxhrA%2F42mIF6TkGbDAElqkMfF0EyKfip%2B2EPJtH7AksMALac%2BkjT9fyIQRGiD5HMZwCTKLxBLX3A07qdkKrXlR5i8pYOXZxAX4vyy9BKV8RfUfvEuqyNXXnBg4e%2BB%2FPnR%2Bg%3D%3D")));for(let e of["acos","asin","atan","atan2","cos","exp","log","sin","tan","pow"])Q.env[e]=Math[e];for(let e=9;e<64;++e)Q.env["reserved"+e]=()=>{};for(let e=0;e<16;++e)Q.env["g_reserved"+e]=0;o=E(o);let w=await p(e("data:;base64,AnevpqDvapimRNPOGhqee07n%2Bv1yTm1n5XES6y7%2BqPUQFqw5livsDo%2Fkram7E1zzZg6qmLzXsUswfnD9AZjEuJOrUjm2TzbQ%2BWO1hv6bvL0OA5NIRBHdnLCD2DJC5a7Jh%2Bn20qczMOvGlUk700JPiog%2BRZrdnPfnjdZrltFOZBk1oyEomoNCnRBIG%2Bd2U%2BJ%2FfcPD%2FV5KVii8nTeMgUfwVbKV79ZcQGuE4VPTr0nA80eJso3NQUtKG8IWxj9LEus4f2c0dEpDNmDI9qq9a12KBBCrzzqR046%2FELqxIdT%2BgJmVrYoVqls74yF0jwRrKHUmhpJYHbTbTJ3Jx4y%2FoQ3Hxkw1%2FCJL8x2LgFO%2F0Peli7PXrr2yULWfYTG%2FbGpqVTTupquBYjc9FfEqmPiYT5rq75zdxL5hLk0HrnffK8pqCTGBiNczZqa162S0jqL8iRVrou%2F3tM%2Bt54cLW3WsFHNeVu%2Fe6OH0RQre%2F%2BzgAS2v%2FzaFxWRzPEnBM9PYTJfqniWKtBvhd8PnHqMQMoF3xORCC3JogJ91rQ3fQQhxSENQubsHJVX3XTLztv1NNuEN6fDgUopylenHAh86%2Bt3uRELmjuLt15LAGY8dlPKTzagXljjkcI0O4l0AZuMM2SnL%2FjQWAKjP8eXlr0BTU0VFNpQLeSr57d5Ga6egQfm7lNcpGSIolc3%2F7c1EO4zeTb1M6VsifwwE1WxKA%2F2Mn%2FpfGgB5qpqM%2BFOfwIHqlr8QWFcHJzBoeCbXE6Lu4ALq8B4E0Z5hQL1B2aWWwJAMLYOxju9y%2BmZ5WO7CBGE7MsjAr20KQoBcp3AhXh4u3kt%2BMDqwprihesa2fhqOZnfAlPD2aNdhdttIXIpGQcgvJK424gMhX8TfORT1wlCWRT3aAXzBT4r96%2BmoLs2STHAQ8n2Sp4AzZZkcPOHwfPNblFYTTNoStfbbPapx14LaI6%2FqK60Mi8IChvlIiHgvm8GqD6d7x7RNMJHcfxMsoEM4QefNkrwI55Pdl2ZgZafiJHWlpIgOMNaB04e7qtPBpyGDFkn1tiA9w7e4ennqIaGDX5ZDq9HTkmL16kkpO5nL8inYZy8SzpOXFf3JhPuLjjdiWZeKaFg2IhE%2FPFBp0NjCV1SJnVoBI6z%2Bi4GLvraafaxKc5I69%2FY%2F%2BX493CNEyz2pxUlwX9a0PqlwC8iHmVj4Cru5oLyjKa%2B3ftBicScpA3kp10OS1%2BMv5U0RNk8C7%2FpmWx0uLlykVt%2FVXktZ3TbZuYBTaFckJgDgRAEEaPoybVCd9OHCAsucejMJyY3coiv4FrgH8MfpmuknVa18etJNGRbaTHrEs%2FsK8WkxUOyOXNKLYH9WwPnkNNBHTTM451aQjJ2ht5NLW%2Bjk1B%2F0YS2azdwmAvszQfhUw5RBalFz3vdwFDi2HRB%2FZm6H8hCrn5gGKa0lEUY%2BxDhpQnvpi5nag7oLioOrlhFj42aJAZWLWGfZ0ctF8ESyvz5FIgOM4OvjdOeVUH8rC0KQ2c1YIOjpc3Qg%2FU7jQ9ftirZrdFCf8yF4n%2BkP8hc%2BC0E0xgWAwY5KfkfO12W4LZTFDacpVj076gn99Zz2g847T29x7w1c8PQQIv0JFGg64Rwhd2a%2F7NMcrW8VqFUpiORHTdJf03T2TLljB18VMLPfGOh5xop1j2nzF3vHO1oIso8t%2BIUjnMcxMC9UvNeDEaYNNArr9H%2FjwETXxUornCFeI7VqYJTYzRmfbMgE3X96TQkPG9ZAIQ1gJXWlFer9FRN4XXUehOLDWklG%2BLVDFp6f8GUCxjLc8yRYVVE2EBzYyJMf%2BTUxMZssGdfu5L6RkPEMN5ZeAUrVzWmRW9vmhuVqK0dCa5U9WNtszNFD0yukSinx1XqEV%2BqUlgtskCw6Tt9mgBDHvDCiGPPFrljOnrfWHB0gG3lRKD%2B1SHK5mkE9DzcY2U2rB%2BQPMiWGt2QmqzMMxqMqY5HQaNGbLzgAqqvd3Rl64Mi7TZWk1AqcXasy5cCEDyhU9rE%2F%2B18gsdrBRyrjXEKNskEyE4gCXSM0eiJRf%2FQsse7wuXclmO8MJTTUpapcOBhCrpZD96hZsh6iOIPEZdhsXG7tXevsVio2SFW7rvaojeq9Q%2BoxqDGTnH6Q5FL7csARrE7ZA4NVEGQ41gP70cTK%2FDrSDGwObHM5Tf3MjMuvbwcw%2BEM%2FlTUOFr%2B4qMyC8FpQgbBrCecCQhOlktXJFhoryAAix54b7lPxITWlkr7bVKX0GCqLIQlshMQmH473cONQ60jnsM2VxFMNMBMvp60%2BGSMt5pP4Ns%2BFiefHqsBTJPH0ALDfD%2FnNQq4kJd415PW9J7DPH2TM29shlWI3cygpeAwqlxKFPnF2CB05sELlaHrU%2FnOzFdv0kjMcmxWWcMhk0%2BU37CjWiLvGc8NRegIoAixcLzpuwBXG9ZTE6gpIcQkVGnKAHS8PxHqzb%2BkhPXlYVXO%2Fv%2BrVeXZx%2Bd%2Ft6RW0ky3exxDYufqqV1TLKXT2%2Bd1sSv9YfDqrirQ4RIcusAXm1cSn3Ye55znMV0jjgL0MZwWiVaOVV2qul2KKKrsLYqw79S6AumDrSiG6CY2PmM9K930skqIRoAxK4r1jIF1vLUs1IIghnwkyHvd0boba6rO7BQSgo9Fd1HxfGrxmh4kI5ANeV%2Bj%2FUGzTNbkzwPYZexxTmLlccBbri4vj5NUtEu%2Bl5Ru%2F8zj7T0Bqrivlb%2BSbCZbyvzNq3R0J6%2BJnpeXNqPNH%2BUn%2Ftf3AdtLNQMGNiRL4a6kfVAR%2BYCsYc5cpNA7OsY01vWWJYcONW%2B3rEmcxdnhG3xzINmkTXNElTDuAZXPD%2BsS%2Bwv%2B447QCETBbKdkd4%2Bo7VPq8dSqFDLYN6MkPnqnPGjgNLUUMNcz5SZLQvCy%2BdaSG0ZqM2WphUKgDElNzlDhbI9luPaCnhKF2Cxqcw43nOlFRh7Z%2FwghyPra5FUGAMjGN4vtMKsbjB%2BCxHxPcAFE0gv1SRBCmV7GPJdfmsG0eNvCtnaoiQ1f81dBU3JZ2KKFxqoyXGHy34YTHWiUjcz4TorpZsNXCJvMoW10vUzvDtjvHIoiCyoIKhIk0ufmPq2jEEfDc3LB%2FY1wFW4TifaN1VYpWaUtUPj8TiYsUW3zEj4RyJfM%2B3znhkiHmjGkFS5zZw6kArWlCGBMCCneSWsktgbrI8Njx%2FuD5uy6MgmZuOuJImQCAgozT%2BX1%2FbuxJv1in%2FG5n0d7c7x7XofIQ%2BMi2CWXsl8p%2BqkWufmLg2P8jZal7YjktWnWxRxh046MhuATVAtKwkYV4obQSVO0RmYV98GWfoJz8n3iFkgFm4vgjXxQbYej%2FZaLip3%2FAacrBxJXzRffpd8AiRQp3hrbKIR%2FHabzA21gkiurjpNwPAngjstXt%2B%2Bvvr%2FUJ1kLIeMFJ3ZEPZr6vn%2B8rogBuloLJYDGLt%2Fq4PjjFrzzXfLgUC1yi66qMimCGtbfZZUR5hs4vq1VZHjSmdZMa9TzeW3iJvohYAhCVr7RiGKx%2BDRVNFwFDfJxj61PiSSQDA%2FFhDQqytWaQa2doB%2BwmibSSt7EIhisNRhgnUxSDqv6uLOabXSFlqznO8D9m2Y4rOvtEznDzbLcNqCWSbnNjkpSoEQzeXbtsu%2BZn4V39vI8aDuZnyrjsD6hXGQ%3D%3D"));u.port.postMessage([w,o]);let M=await m(w);for(let e in M.exports)Q.env[e]=M.exports[e];let h=await m(o),y=a(c.data.buffer);await I;let x=Date.now();const L=1e3/60;let k=x;u.connect(d.destination),function e(){if(D)try{let t=Date.now(),B=!1;if(t>=k){let e=navigator.getGamepads(),n=0;for(let t=0;t<4;++t){let A=e[t];if(A){for(let e=0;e<8;++e){let a=(e+12)%16;A.buttons.length>a&&A.buttons[a].pressed&&(n|=1<<8*t+e)}if(A.axes.length>1)for(let e=0;e<4;++e){let a=A.axes[1-(e>>1)];(1&e?a:-a)>.5&&(n|=1<<8*t+e)}A.buttons.length>9&&A.buttons[9].pressed&&(B=!0)}}let r=a(s.buffer);r[16]=t-x,r[17]=g|n,h.exports.upd&&h.exports.upd(),M.exports.endFrame();let o=new ArrayBuffer(32);A(o).set(A(s.buffer,80,32)),u.port.postMessage(o,[o]);let F=a(s.buffer,77824,1024);for(let e=0;e<76800;++e)y[e]=4278190080|F[i[e+120]];l.putImageData(c,0,0),k=Math.max(k+L,t)}B?f(r):window.requestAnimationFrame(e)}catch(e){n.setMessage(C,e.toString())}}()}catch(e){n.setMessage(C,e.toString())}}function D(e,t){let A=document.createElement("a");A.href=URL.createObjectURL(e),A.download="microw8_"+(new Date).toISOString()+t,A.click(),URL.revokeObjectURL(A.href)}return{runModule:f,runModuleFromURL:async function(e,t){let A=await fetch(e),a=A.headers.get("Content-Type");return!(a&&a.includes("html")||200!=A.status)&&(f(await A.arrayBuffer(),t||F),!0)},setDevkitMode:e=>F=e}}(document.getElementById("screen"),{setMessage:(e,t)=>{let A=document.getElementById("message");t&&(A.innerText=t),A.hidden=!t}});new EventSource("events").onmessage=e=>{console.log(e.data),"L"==e.data&&B.runModuleFromURL("cart",!0)},B.runModuleFromURL("cart",!0);</script></html>