<!doctype html><html><head><meta charset="utf8"><title>uw8-run</title><style>html,body,canvas{background-color:#202024;margin:0;padding:0}html{height:100%}body{height:100%;grid-template-rows:1fr;display:grid}#screen{image-rendering:pixelated;border:4px solid #303040;place-self:center}#message{width:calc(100% - 16px);color:#c64;z-index:2;background-color:#0006;padding:8px;font:700 12pt sans-serif;position:absolute}@media (min-width:648px) and (min-height:488px){#screen{width:640px;height:480px}}@media (min-width:968px) and (min-height:728px){#screen{width:960px;height:720px}}</style></head><body> <canvas id="screen" width="320" height="240" tabindex="1"> </canvas> <div id="message"></div> </body><script type="module">function e(e){return e&&e.__esModule?e.default:e}class t extends AudioWorkletNode{constructor(e){super(e,"apu",{outputChannelCount:[2]})}}let s=(...e)=>new Uint8Array(...e),A=(...e)=>new Uint32Array(...e);let a=function(a,n={}){n.setMessage||(n.setMessage=(e,t)=>{t&&console.log("error: "+t)});let B,o,r,i,l,F,d,C,D=a.getContext("2d"),g=D.createImageData(320,240),u=n.devkitMode,c=0,w=null==n.keyboardElement?a:n.keyboardElement;if(w){let e=e=>{let t,s="keydown"==e.type;switch(e.code){case"ArrowUp":t=1;break;case"ArrowDown":t=2;break;case"ArrowLeft":t=4;break;case"ArrowRight":t=8;break;case"KeyZ":t=16;break;case"KeyX":t=32;break;case"KeyA":t=64;break;case"KeyS":t=128;break;case"KeyR":s&&h(o,!0);break;case"F9":s&&a.toBlob((e=>{f(e,".png")})),e.preventDefault();break;case"F10":s&&function(){if(l)return l.stop(),l=null,d.disconnect(C),d=null,void(C=null);let e=a.captureStream();C=r.createMediaStreamDestination(),d=i,i.connect(C),e.addTrack(C.stream.getAudioTracks()[0]),l=new MediaRecorder(e,{mimeType:"video/webm",videoBitsPerSecond:25e6});let t=[];l.ondataavailable=e=>{t.push(e.data)};let s=n.timerElement;s&&(s.hidden=!1,s.innerText="00:00");function A(){if(F){if(s){let e=Math.floor((Date.now()-F)/1e3);s.innerText=Math.floor(e/60).toString().padStart(2,"0")+":"+(e%60).toString().padStart(2,"0")}setTimeout(A,1e3)}}l.onstop=()=>{s&&(s.hidden=!0),f(new Blob(t,{type:"video/webm"}),".webm")},l.start(),F=Date.now(),setTimeout(A,1e3)}(),e.preventDefault()}s?c|=t:c&=~t};w.onkeydown=e,w.onkeyup=e}async function h(l,F){B&&(B(),B=null),r=new AudioContext({sampleRate:44100});let d=!0,C=new AbortController;B=()=>{r.close(),d=!1,C.abort()};let w=l.byteLength;if(n.setMessage(w),0==w)return;await r.audioWorklet.addModule(e("data:application/javascript,let%20e%3D%28...e%29%3D%3Enew%20Uint8Array%28...e%29%3Bclass%20s%20extends%20AudioWorkletProcessor%7Bconstructor%28%29%7Bsuper%28%29%2Cthis.sampleIndex%3D0%2Cthis.currentTime%3D0%2Cthis.isFirstMessage%3D%210%2Cthis.pendingUpdates%3D%5B%5D%2Cthis.port.onmessage%3De%3D%3E%7Bthis.memory%3F%28this.isFirstMessage%26%26%28this.currentTime%2B%3D%28e.data.t-this.currentTime%29%2F8%2Cthis.isFirstMessage%3D%211%29%2Cthis.pendingUpdates.push%28e.data%29%29%3Athis.load%28e.data%5B0%5D%2Ce.data%5B1%5D%29%7D%7Dasync%20load%28e%2Cs%29%7Blet%20t%3Dnew%20WebAssembly.Memory%28%7Binitial%3A4%2Cmaximum%3A4%7D%29%2Ci%3D%7Benv%3A%7Bmemory%3At%7D%7D%3Bfor%28let%20e%20of%5B%22acos%22%2C%22asin%22%2C%22atan%22%2C%22atan2%22%2C%22cos%22%2C%22exp%22%2C%22log%22%2C%22sin%22%2C%22tan%22%2C%22pow%22%5D%29i.env%5Be%5D%3DMath%5Be%5D%3Bfor%28let%20e%3D9%3Be%3C64%3B%2B%2Be%29i.env%5B%22reserved%22%2Be%5D%3D%28%29%3D%3E%7B%7D%3Blet%20r%3D%22%22%3Bi.env.logChar%3De%3D%3E%7B10%3D%3De%3F%28console.log%28r%29%2Cr%3D%22%22%29%3Ar%2B%3DString.fromCharCode%28e%29%7D%3Bfor%28let%20e%3D0%3Be%3C16%3B%2B%2Be%29i.env%5B%22g_reserved%22%2Be%5D%3D0%3Blet%20n%3Dasync%20e%3D%3E%28await%20WebAssembly.instantiate%28e%2Ci%29%29.instance%2Ca%3Dawait%20n%28e%29%3Bfor%28let%20e%20in%20a.exports%29i.env%5Be%5D%3Da.exports%5Be%5D%3Blet%20o%3Dawait%20n%28s%29%3Bthis.memory%3Dt%2Cthis.snd%3Do.exports.snd%7C%7Ca.exports.sndGes%2Cthis.port.postMessage%282%29%7Dprocess%28s%2Ct%2Ci%29%7Bif%28this.isFirstMessage%3D%210%2Cthis.snd%29%7Bfor%28%3Bthis.pendingUpdates.length%3E0%26%26this.pendingUpdates%5B0%5D.t%3C%3Dthis.currentTime%3B%29e%28this.memory.buffer%2C80%2C32%29.set%28e%28this.pendingUpdates.shift%28%29.r%29%29%3Bnew%20Uint32Array%28this.memory.buffer%29%5B16%5D%3Dthis.currentTime%3Blet%20s%3Dt%5B0%5D%2Ci%3Dthis.sampleIndex%2Cr%3Ds%5B0%5D.length%3Bfor%28let%20e%3D0%3Be%3Cr%3B%2B%2Be%29s%5B0%5D%5Be%5D%3Dthis.snd%28i%2B%2B%29%2Cs%5B1%5D%5Be%5D%3Dthis.snd%28i%2B%2B%29%3Bthis.sampleIndex%3D4294967295%26i%2Cthis.currentTime%2B%3Dr%2F44.1%7Dreturn%210%7D%7DregisterProcessor%28%22apu%22%2Cs%29%3B")),i=new t(r);let f,y=0,Q=new Promise((e=>f=e)),m=e=>{y|=e,3==y&&f&&(f(!0),f=null)},p=()=>{"suspended"==r.state?(n.startButton&&(n.startButton.style="",a.style="display:none"),(n.startButton||a).onclick=()=>{r.resume()}):(n.startButton&&(n.startButton.style="display:none",a.style=""),m(1))};r.onstatechange=p,p(),o=l;let E=window.location.pathname;if(w<=1024&&!F){let e="";for(let t of s(l))e+=String.fromCharCode(t);E+="#"+btoa(e),E!=window.location.pathname+window.location.hash&&history.pushState(null,null,E)}a.width=a.width;try{let t={initial:4};u||(t.maximum=4);let a,B=new WebAssembly.Memory(t),F=s(B.buffer),f={env:{memory:B}},y=e=>{if(a&&(!u||0!=s(e)[0])){F.set(s(e));let t=a.exports.load_uw8(e.byteLength);e=new ArrayBuffer(t),s(e).set(F.slice(0,t))}return e},p=async e=>(await WebAssembly.instantiate(e,f)).instance,E=async e=>y(await(await fetch(e)).arrayBuffer());a=await p(await E(e("data:application/wasm;base64,AGFzbQEAAAABFQRgAX8Bf2ACf38Bf2ADf39%2FAGAAAAIPAQNlbnYGbWVtb3J5AgAEAwkIAAABAgEAAAMGEAN%2FAUEAC38BQQALfwFBAAsHGQIIbG9hZF91dzgAAAp1bmNvbXByZXNzAAQIAQcKngUIxwEBB39BAC0AAEEBayIBQQBIBEAgAA8LQYDAByAAaiECIAFBAXEEQEEBQYHABxAEIQIFQYDAB0EAIAAQAwtBAEGAhA9BCBADQYiEDyEDQQghBEGBwAchBQNAIAUgAkggAyMATiAFLQAAIAMtAABMcnEEQCAEIAQgBRACIgZqIQQgAyMASCAFLQAAIAMtAABGcQRAIAMgAxABaiEDCyAFIAZqIQUMAQsgAyMASARAIAQgBCADEAIiB2ohBCADIAdqIQMMAQsLIAQLPAEEfyAAIQEDQCACIAFBAWoiAS0AACIEQf8AcSADdHIhAiADQQdqIQMgBEEHdQ0ACyABQQFqIABrIAJqCxIBAX8gACABIAEQASICEAMgAgskAANAIAJBAEoEQCAAIAJBAWsiAmogASACai0AADoAAAwBCwsLqQEBBn8gACQBQQAkAgNAIANBgAE6AICADyADQQFqIgNBgQNIDQALAkADQEEAEAYiBQRAIAQEf0EBBUGAAhAGCwRAQYECEAVBAWsiAkUNAwtBwQIQBSEGA0AgASABIAJrLQAAOgAAIAFBAWohASAGQQFrIgYNAAsFQQEhBwNAIAdBAXQgBxAGciIHQYACSA0ACyABIAc6AAAgAUEBaiEBCyAFIQQMAAsLIAELNAECfwNAIAAgAmoQBgRAIAEgACACakEgahAGIAJ0ciEBIAJBAWohAgwBCwsgAUEBIAJ0cgtxAQR%2FA0AjAkGAIEgEQCMCQQh0IwEtAAByJAIjAUEBaiQBDAELCyMCQf8BcSICIAAtAICADyIBIwJBCHUiA2xBgAIgAWsgA2wgAWsgAiABSCIEG2okAiAAIAFBByAEQYECbGogAWtBBHVqOgCAgA8gBAsMAEEAQYCEDxAEJAALC%2BYDAQBBAAvfA5efz3FZ0f5yFbUvithc%2FqHFfzojM7KVsEv7fSGG57W3091tBMQ3YrNZU2%2FjguFMMLW1a4URR2fHh86SJQlSzejWWM32zngAVQFyjmIA0KvcWHlGnF5vO%2FwsABeCDHnLZ7%2B1ixqHjaqFV14Xn%2B%2B00bK8h%2FZ66bwxYl1h%2BNAL%2BQh0zt3iSqNerI7l0QMOySt%2FPOFO3hXwdaMgxln646dVGVLPhHQbMoREgNzLIYMv4gBUU6Cr%2BR0QYi3tDAXJ4SoSxKCyLsv7cfb5Cl%2BYC5Jus5xElZgiDlIIHBqFDldTRQ5nBJl5es0ZDmEl3WiHmM1UA8QeePxqNrYic7ifdP3EBFW5S6xR2jJ3ck%2BXX1DdwcNjNkIkxbPKNFOeqWZ%2FJ72Bz14fhYzfrX%2FfCvJQ2mBNrPbSIjF%2B6V1RUKuyzvSVyFXaomCpe3Y3V7yP5iFDf7QCB30gL0GFxjKWBXWlhYCZ9Onp%2FTL3Keov6ZK4i82JfbYTpae0WsqGQAR6wYofqij4UeYizaVoAe%2Bu9yyPAdnM0VunjuR3d3RnLt58zObzS9uQOc7yxqbXgjE72aO%2FdARvdDO9JCAyCLD53ulWsdoUTkhRSVTggPCbCE%2BzQNKNA5C1JLS5pYuCUSvw653hsqj6")));for(let e of["acos","asin","atan","atan2","cos","exp","log","sin","tan","pow"])f.env[e]=Math[e];for(let e=9;e<64;++e)f.env["reserved"+e]=()=>{};let v="";f.env.logChar=e=>{10==e?(console.log(v),v=""):v+=String.fromCharCode(e)};for(let e=0;e<16;++e)f.env["g_reserved"+e]=0;l=y(l);let I=await E(e("data:;base64,Akvvug%2FLp5NfL678hQRvHIwWTbRLz40RaOBHsqEqh7%2FlPg9djVFCPT0BiGWeDb8xQ59kkMe7x1FVK1suXXiRfBX5%2FsbXi9kLRl%2BJ4NeiDAf7iGMQ2dbTWTds5ab%2FXLucLxe8bSyCxTPT%2Bfq0XnyB64syvU9QJtebRmxr6m9xxJfS7BsUPyLhjWy84OJ64PArzOAD9NtKped%2FJv0B4Ue6UsEro2K56HtJ%2BfhzfbAkp5icsNhupigIzNMKViDdeBmO1yf13Nh%2BZZqXEYeneLbeogluKzc5PwpVzXayxobT8bPa2ll83VsR6antwvkvPMue5tcLRNBHAJigNThK6fO9L0MX3BhNJQKcahvcVTryvvpFVnOt1bGG5maxOlGzmpLM7eEYZ53J73kBLyyBAH3oHIbvBg2teeeGOYHMl3X8NMXzRknyKHiR44%2FH6jL8tsqB7exvAZePi4KuE8Tk1HsW4vScRtN%2BZkvhJ1VWGgGZVoc76%2BGU7ZEVyTpi9syakbmYla2LrtfjH8xkgCSTJFrcsv0hSpNAfGCNSkMIYh3CmOmvHs3LQNRYEI4sNtD6uDDPB%2FIuVlF8TaoDe3GZde%2FYtAD%2FvTHc7NQLowng%2BPwDDtq4nDyKMFK5c7lds4CH4yZykHeSh4FEIx%2F%2BnpXRED7%2BwvlfE6CREgYozTyohRGpdI8jOvgEJQZF%2FLPUcycivnRnzggDj87JcD0eZAMssDuGJd23ysw6ZL4idO%2BhvQUxSnqCFHI5K3%2Ft2ZQH%2FMleYfMGWGhywgVfd5HfhCEVpBORd92%2FwhRHc6lEC2dRpGPHK0qyw5Z%2BHe6B0h5Mxs69bKdtIBvwP75nHYw08KsHWeBo5jtqUKU%2B1UQCBdgp1ycR6IlWnD1NwOY1iGWXrwGVhWynSXCtiovYL%2BIjVDyVY9S%2B39bdzFd3FkX9ooGGtnkl%2FUMYs%2BHqMB693tG0XY2AyXBgJuFaxTqd0QuhLtX%2FI25V6llSlM%2FOqofc0Duxs6B1UQiu%2B8yNM6mrFLhKY5jMg9KHklT%2FtgSaFr6QtZKhLrtoU96yWxnbQq7eZp6CUgxgcvD8AoOOUt6TBzCfpWGE5EHa%2FN2HnsFmmqQbrbNOUSEUVgu1QNbV%2FdK0M%2BF32V6OyQlWLhjUazG%2BXt%2BdyUzvNVYjMp1p3XAzCuGu1JZWDxTOot1fGepN4CJ8HeYhySRnzO440Qbn5in8t4QodhQNiCVmLONIQG1gjlpC2L9gYTF2FDtz855OZjTvc2%2Fg2GzZwILbdusPo4srtNtkyVVloaV9JEdA31N61Rlezzu24dWSJ0aXjjlb00qLxFPgUoFKU74WsCNuOMy%2BWwD1WM%2FWeXXm96vZRNYge1Im6A4yykxmrC9nv4QM3m0pr%2BRyFTQ%2BuzgI1MmPQXGUik%2Bv101i5DNu9swnENcJox9ruJoGnnHghw0JGgqVr%2FYsOtGNLVvQQgNqLKx%2FZDxZxF901AwQUH%2BC%2Fgea7lfjqAaPd9wgBrBwCTolsbOS8%2BkyqWwRoTfjk6FdQ9oPTWhCWcWApoNuvIt68J6%2BePGDRHUOvzRRsmTadmyeb1AOlVa3JS0wSspyN2fURTdPcftH7pNEx%2BlY4iRYjiTYYVy99VvAusWcrR4nUk4XT4LSfOAP0CA7P8hathqmP8jV0DI8wQ1Z%2FKCuYRry4vR4wrcxfpmmaV9vd1SFu%2FvbweKdvTLpOqLMwP8cFrr5I4wt0s7ATwm5hKUuEwn2J6zQONrOfHbCy5b6XOuF5yDlIFnQsqGd9oo2RtF3OJZ%2BDKgHI4CFVObW%2BFZadFiTLBmdljtXCD21n9oOWmY8wZDDVk%2FCUrLNz1lXolCB2%2FP4XDdN13U7g2iMdqoXR5Emn4EOvWNTUaKdVvZXvDZVXLT4xnDtf74wwv5eoNwYjza8h6YVDuchyLiCksUrxThZOxdeNtIYzaBKTXSXAc74cpKuBeblGTRL0Xnh%2FRbdJtC1YUMPJUKKc%2FhNHowczMvOKHfldMlQ9Q1zMqBLPXBZU3woqwg0q%2FoiB6twdMbeZI7vJd4AQt8qaIA%2FFL%2Ba2BwFhYuqK3u7IPeC7qeBcthdscrdYhnS9Eua27WieSSOw74tYTpfWjwCuX7w68cuEhfBW9tRov5OEJbvhJIzR8hRm%2Bute0UlJ1NmCMeYakFUbSuqoX4mNKfxYo0BusQUvBd7vZvUZiFYR7QK0usKDoa5naBXsxTkepATD4vr97a67%2By2lGA8a0LlttZljLkDnrTaFDYqiF0snQ9uIEuR2pj2AjwLFgMuvWyoppNxVyj0m6ThXOpqp5APVYpxYMLqj%2B3F4yb%2B05i8ezkwfkDdoRms2ZwjNo8nL6f2ThhxiMGaHpyXliM7AfJhAazhma6Hc2NW2t0GlqTOEUpHGDQHhD1vTSPo5BtljuEsR%2FdQz8mnnIJgIv%2BWdLoppj82r5Nf6ZKqz9tYPgEIv3Rsdv9YFq5g5PJn%2BKG%2F8TYsOWt4GgP61TbV0BIPJINj0sWLc5RVzCY1xComTn8zXlbtPDVJfOWzCs6pehs3s8AEKdITYLF6Ad4prOJ5%2F6pJiRmjtLXqkaQwXQL3LykhKMgh3PUJHzWp1M0GiwR%2B%2FHLYZwzCmztFRqUnKIqQNW4UJlmz2vCiW5WPtftsUM%2FMzEp4XtXtwhC8YrssonVvRbTmpCbRzbyD9Wwc27fFTJ%2BKTeFgJv8w1kNVQuy4Grv%2BEM3ZQeZmue0VApRiHkidGSRnDw3zUSBunPWM0W0nf18rKxobiAcy6dFnxXF5d%2FyiN0%2BaR65U%2FyyhZi8XlDIQaPXqZh%2FoqToDhm4ofzOLF0lJGszy2rOPwicVJPHWMP3JeTUbMturjZ1SNqW5r0Tu0t6AyQNCM81G7fTgUcHRs7IPZcwEB9vhavmj%2Bu0L6%2B3YgHfRdH41xjNN736d9ZlXPkclqt7VrlYZnN4375nZjJ1%2FShrxO9%2FLzt%2BC%2BulSutjGpNJrOogVXEF9wfDnqfEbhfVarWCSIXLSjCNNarOV9U9PmQrWbRNBjth6mckKDt89KyHTQfTQU01xYmtzsuKishJv81%2BAqmjR4qUrPx28J7x8ckSRXMk30nlHifBjGb%2F29%2FYWeqfPMCi4YIdIJiqy92fglTOmFR1%2B6JI6RLDJnHzWbCFVX3TWFk%2Fk8BbKtCbDEnKpzXdBnIIPcZuF39rb7bRlTqxT%2Bfq1zd49ztHT%2BCo5oXHw7PNJVC9%2FGyGW76kDdfMYpFxM2pm8owQyBSHIwD%2BJUJJJi%2FF%2BpMj6cPlC1l56Bfh6sCLvPyPycBT5zeHmuuF1KoiPuKDsYJV2b9LF5z3zyxS%2FtGOV28ET9qUGWp%2B1605FDPUZnN194PEjpM1en%2BGphGIGY3%2F1%2BBoVC90fx8xHni8F79EZ%2BLcNeiO4r73Poa%2FOuh5YIphlPrwZikylAnvirzQm613iJsJPHquEvQc7mSIMULcR9Ekuczwcez4fzrNc6eR%2Fe8BgvkH0LZf%2Fv5MiPIcTPLFQjAXvN6eAq3J9iN3NH%2BYE4r%2BUHKhIhalhLK6F1Kj%2F7TrJXl8eXOt2K8dvg8tZxNeMV%2BSda%2BcaN%2FioryCzRhswFvdk5oMEAyCvWxVFO7PHCim7N81Y%2FCHOXzCb%2F%2FgVNbZxOJTjr5F%2F4h2nXejoybmXqQmBF0j6kXpMn5c89vl7UFPDMNFELPpRnPVkwwVXYXCcg3Kf8GUZIuVCvrCYLJiE8L9z%2BwauVT%2Bk0MU3mFcC2%2BTkorZ1Z2R7rYm9epKF3NHSO%2F965NWcaOP41mLOORCc0kTjibSKPH98e8snBW1ZaxT%2BaQwcBtKiT7wGg88uC8Jymc%2BSNSRAhR069XsiC8Sgfw0wCw6vaEOAfNCJjjRK6JL0JAvqjw4XorT9nj7veSaPoRtuvkSuD%2FaCuhtPTXY4nOjli8Nd1Md1mS3PekM0nLGRNiOzKB5x%2BlX4tVXXBFpedmrFk30E2NwIUKsPkXWeBwDNRN5a5KILCo8GV5Xm7qUFt6XzHvXZ86l4Dcag7Nr15qFyN2%2B1gr%2F8JFba0FA%2BZuA4eySrYskCDZ7xmkby%2BG9vv798nzh9YQkR%2FDKTM3ciTpJVw1YSHiqpOPsHwv7Y9%2FvQ3H5cnioWqay3JHDHTHMb39bktQsBT4EcLjjloTw27v708R%2FfhyiakPRw20wUHDlfXgO5JCooAVUTTaQYddpOf56iwA6e6h8dqqzwbEYUK6ku8LDB5XeBfKx8WyBhkaj2slWJTGKSxxvDFvgTedqI1rT2YC8yCxWCkzhgPspSLEDDj01gq3mEC%2BVAEbA7HdOoCYsgROTT%2B7NTCGiMECxmCORQB9d1WAvhqvWjGLgYDzaN0DhSCZnfdepKahmBFxzNNDBjw0v4iVVd8j6Y9yk2%2Fis8TXOlKxCtquuN9Ex0opsFjj8XQ%2FsqfxtuAHTQqSbyFwapqokpF54fkNsIxhemJ%2FSZXmTD5bOEPh1vqgpUeBDYEleGlP6VsSCuqzhuX8%2FGT43QFynnreKgfwrHdOnlOhBv5wRdSKEfgCqyiJigGhwWuyjuKRbwweyrjf3fJvlc4pe5d5qTPxHhsoLvdZqgjtbEVaExj6MY0%2BX3mEF6UG5fAi9iLzcOSODxk6JXxG8WL8d%2Fy2Mk1dUUV1SA30o%2B09lr2FfiFRNm%2FW%2FIZokDFnw6mf0UwSuOWbVlFGZtofrLY0z4CYcSUOaTkHU1GQ8ejfrQFkd3g0trbNlyh7%2BDrn1xt9MFPl4b8Ux98%2FeBrj%2Bk%2B96O6Lew%2BNyNAE9RqRPAWX1eUsH%2BoP3LLnYg8qzytPyR9NH5z3HGkRF%2F%2FLjdrhBLD0mqqX673ZnjG%2Ff2y5xK09wQjgh7UQrScRAwmdV6Q9TT9wBYWRa9ZpiURSF2%2B%2FRSgZP3Bod4D7briepiVsL5nACTndXgSHHN61hjzpD65uJT4RAoQ0Lbs%2B6NCjho59%2Bf%2F6fDc7UngkGojI20hPwKZI3sofeDfS917OEX%2BBraTqpe1meA9U5J62dFC3%2BX9R8ZD6XrX4HNAwaqsoRo8xIvJhrA2vQYp%2FeKIGpshCvawmNyi1VXi%2FLVd6vxSn0fcsoqUtrNMOTQwVAzFS%2BPgZZKuC6q0%2BEQ6jvx%2BSsGwKUKkq2CBbEsDuV8MN1%2BNQ84gZq6rjAnE0%2FC1Jw36xid2uDN0S0VxWOJon7NOmWrcgJFsm2T1vJH1BZ2fbGFXv3d2%2FQ3VRHs80ztZMP%2FOPWtlSo%3D"));i.port.onmessage=e=>m(e.data),i.port.postMessage([I,l]);let b=await p(I);for(let e in b.exports)f.env[e]=b.exports[e];let N=await p(l),M=A(g.data.buffer);await Q;let R=Date.now();const L=1e3/60;i.connect(r.destination);let T=!1,x=R,U=e=>{let t=Date.now();e?(T=!1,r.resume(),R+=t-x):(T=!0,r.suspend(),x=t)};window.addEventListener("focus",(()=>U(!0)),{signal:C.signal}),window.addEventListener("blur",(()=>U(!1)),{signal:C.signal}),U(document.hasFocus()),function e(){if(d)try{let t,a=!1;if(T)t=Date.now();else{let e=navigator.getGamepads(),n=0;for(let t=0;t<4;++t){let s=e[t];if(s){for(let e=0;e<8;++e){let A=(e+12)%16;s.buttons.length>A&&s.buttons[A].pressed&&(n|=1<<8*t+e)}if(s.axes.length>1)for(let e=0;e<4;++e){let A=s.axes[1-(e>>1)];(1&e?A:-A)>.5&&(n|=1<<8*t+e)}s.buttons.length>9&&s.buttons[9].pressed&&(a=!0)}}let o=A(B.buffer),r=Date.now()-R;o[16]=r,o[17]=c|n,N.exports.upd&&N.exports.upd(),b.exports.endFrame();let l=new ArrayBuffer(32);s(l).set(s(B.buffer,80,32)),i.port.postMessage({t:r,r:l},[l]);let d=A(B.buffer,77824,1024);for(let e=0;e<76800;++e)M[e]=4278190080|d[F[e+120]];D.putImageData(g,0,0),t=R+r-(6*r%100-50)/6/8}let n=Date.now(),r=Math.max(t+L,n);a?h(o):window.setTimeout(e,r-n)}catch(e){n.setMessage(w,e.toString())}}()}catch(e){n.setMessage(w,e.toString())}}function f(e,t){let s=document.createElement("a");s.href=URL.createObjectURL(e),s.download="microw8_"+(new Date).toISOString()+t,s.click(),URL.revokeObjectURL(s.href)}return{runModule:h,runModuleFromURL:async function(e,t){let s=await fetch(e),A=s.headers.get("Content-Type");return!(A&&A.includes("html")||200!=s.status)&&(h(await s.arrayBuffer(),t||u),!0)},setDevkitMode:e=>u=e}}(document.getElementById("screen"),{setMessage:(e,t)=>{let s=document.getElementById("message");t&&(s.innerText=t),s.hidden=!t}});new EventSource("events").onmessage=e=>{console.log(e.data),"L"==e.data&&a.runModuleFromURL("cart",!0)},a.runModuleFromURL("cart",!0);</script></html>