<!doctype html><html><head><meta charset="utf8"><title>uw8-run</title><style>body,canvas,html{background-color:#202024;margin:0;padding:0}body,html{height:100%}body{display:grid;grid-template-rows:1fr}#screen{align-self:center;border:4px solid #303040;image-rendering:pixelated;justify-self:center}#message{background-color:rgba(0,0,0,.4);color:#c64;font:700 12pt sans-serif;padding:8px;position:absolute;width:calc(100% - 16px);z-index:2}@media (min-width:648px) and (min-height:488px){#screen{height:480px;width:640px}}@media (min-width:968px) and (min-height:728px){#screen{height:720px;width:960px}}</style></head><body> <canvas id="screen" width="320" height="240" tabindex="1"> </canvas> <div id="message"></div> </body><script type="module">function e(e){return e&&e.__esModule?e.default:e}class t extends AudioWorkletNode{constructor(e){super(e,"apu",{outputChannelCount:[2]})}}let A=(...e)=>new Uint8Array(...e),a=(...e)=>new Uint32Array(...e);let B=function(B,s={}){s.setMessage||(s.setMessage=(e,t)=>{t&&console.log("error: "+t)});let n,o,r,i,l=B.getContext("2d"),F=l.createImageData(320,240),d=s.devkitMode,c=0,g=null==s.keyboardElement?B:s.keyboardElement;if(g){let e=e=>{let t,A="keydown"==e.type;switch(e.code){case"ArrowUp":t=1;break;case"ArrowDown":t=2;break;case"ArrowLeft":t=4;break;case"ArrowRight":t=8;break;case"KeyZ":t=16;break;case"KeyX":t=32;break;case"KeyA":t=64;break;case"KeyS":t=128;break;case"KeyR":A&&Q(o,!0);break;case"F9":A&&B.toBlob((e=>{C(e,".png")})),e.preventDefault();break;case"F10":A&&function(){if(r)return r.stop(),void(r=null);r=new MediaRecorder(B.captureStream(),{mimeType:"video/webm",videoBitsPerSecond:25e6});let e=[];r.ondataavailable=t=>{e.push(t.data)};let t=s.timerElement;t&&(t.hidden=!1,t.innerText="00:00");function A(){if(i){if(t){let e=Math.floor((Date.now()-i)/1e3);t.innerText=Math.floor(e/60).toString().padStart(2,"0")+":"+(e%60).toString().padStart(2,"0")}setTimeout(A,1e3)}}r.onstop=()=>{t&&(t.hidden=!0),C(new Blob(e,{type:"video/webm"}),".webm")},r.start(),i=Date.now(),setTimeout(A,1e3)}(),e.preventDefault()}A?c|=t:c&=~t};g.onkeydown=e,g.onkeyup=e}async function Q(r,i){n&&(n(),n=null);let g=new AudioContext({sampleRate:44100}),C=!0;n=()=>{g.close(),C=!1};let D=r.byteLength;if(s.setMessage(D),0==D)return;await g.audioWorklet.addModule(e("data:application/javascript,let%20e%3D%28...e%29%3D%3Enew%20Uint8Array%28...e%29%3Bclass%20s%20extends%20AudioWorkletProcessor%7Bconstructor%28%29%7Bsuper%28%29%2Cthis.sampleIndex%3D0%2Cthis.port.onmessage%3Ds%3D%3E%7Bthis.memory%3Fe%28this.memory.buffer%2C80%2C32%29.set%28e%28s.data%29%29%3Athis.load%28s.data%5B0%5D%2Cs.data%5B1%5D%29%7D%7Dasync%20load%28e%2Cs%29%7Blet%20t%3Dnew%20WebAssembly.Memory%28%7Binitial%3A4%2Cmaximum%3A4%7D%29%2Ca%3D%7Benv%3A%7Bmemory%3At%7D%7D%3Bfor%28let%20e%20of%5B%22acos%22%2C%22asin%22%2C%22atan%22%2C%22atan2%22%2C%22cos%22%2C%22exp%22%2C%22log%22%2C%22sin%22%2C%22tan%22%2C%22pow%22%5D%29a.env%5Be%5D%3DMath%5Be%5D%3Bfor%28let%20e%3D9%3Be%3C64%3B%2B%2Be%29a.env%5B%22reserved%22%2Be%5D%3D%28%29%3D%3E%7B%7D%3Bfor%28let%20e%3D0%3Be%3C16%3B%2B%2Be%29a.env%5B%22g_reserved%22%2Be%5D%3D0%3Blet%20r%3Dasync%20e%3D%3E%28await%20WebAssembly.instantiate%28e%2Ca%29%29.instance%2Cn%3Dawait%20r%28e%29%3Bfor%28let%20e%20in%20n.exports%29a.env%5Be%5D%3Dn.exports%5Be%5D%3Blet%20o%3Dawait%20r%28s%29%3Bthis.memory%3Dt%2Cthis.snd%3Do.exports.snd%7C%7Cn.exports.gesSnd%2Cthis.port.postMessage%282%29%7Dprocess%28e%2Cs%2Ct%29%7Bif%28this.snd%29%7Blet%20e%3Ds%5B0%5D%2Ct%3Dthis.sampleIndex%2Ca%3De%5B0%5D.length%3Bfor%28let%20s%3D0%3Bs%3Ca%3B%2B%2Bs%29e%5B0%5D%5Bs%5D%3Dthis.snd%28t%2B%2B%29%2Ce%5B1%5D%5Bs%5D%3Dthis.snd%28t%2B%2B%29%3Bthis.sampleIndex%3D4294967295%26t%7Dreturn%210%7D%7DregisterProcessor%28%22apu%22%2Cs%29%3B"));let E,m=new t(g),f=0,u=new Promise((e=>E=e)),p=e=>{f|=e,3==f&&E&&(E(!0),E=null)};m.port.onmessage=e=>p(e.data);let y=()=>{"suspended"==g.state?(s.startButton&&(s.startButton.style="",B.style="display:none"),(s.startButton||B).onclick=()=>{g.resume()}):(s.startButton&&(s.startButton.style="display:none",B.style=""),p(1))};g.onstatechange=y,y(),o=r;let w=window.location.pathname;if(D<=1024&&!i){let e="";for(let t of A(r))e+=String.fromCharCode(t);w+="#"+btoa(e),w!=window.location.pathname+window.location.hash&&history.pushState(null,null,w)}B.width=B.width;try{let t={initial:4};d||(t.maximum=4);let B,n=new WebAssembly.Memory(t),i=A(n.buffer),E={env:{memory:n}},f=e=>{if(B&&(!d||0!=A(e)[0])){i.set(A(e));let t=B.exports.load_uw8(e.byteLength);e=new ArrayBuffer(t),A(e).set(i.slice(0,t))}return e},p=async e=>(await WebAssembly.instantiate(e,E)).instance,y=async e=>f(await(await fetch(e)).arrayBuffer());B=await p(await y(e("data:application/wasm;base64,AGFzbQEAAAABFQRgAX8Bf2ACf38Bf2ADf39%2FAGAAAAIPAQNlbnYGbWVtb3J5AgAEAwkIAAABAgEAAAMGEAN%2FAUEAC38BQQALfwFBAAsHGQIIbG9hZF91dzgAAAp1bmNvbXByZXNzAAQIAQcKngUIxwEBB39BAC0AAEEBayIBQQBIBEAgAA8LQYDAByAAaiECIAFBAXEEQEEBQYHABxAEIQIFQYDAB0EAIAAQAwtBAEGAhA9BCBADQYiEDyEDQQghBEGBwAchBQNAIAUgAkggAyMATiAFLQAAIAMtAABMcnEEQCAEIAQgBRACIgZqIQQgAyMASCAFLQAAIAMtAABGcQRAIAMgAxABaiEDCyAFIAZqIQUMAQsgAyMASARAIAQgBCADEAIiB2ohBCADIAdqIQMMAQsLIAQLPAEEfyAAIQEDQCACIAFBAWoiAS0AACIEQf8AcSADdHIhAiADQQdqIQMgBEEHdQ0ACyABQQFqIABrIAJqCxIBAX8gACABIAEQASICEAMgAgskAANAIAJBAEoEQCAAIAJBAWsiAmogASACai0AADoAAAwBCwsLqQEBBn8gACQBQQAkAgNAIANBgAE6AICADyADQQFqIgNBgQNIDQALAkADQEEAEAYiBQRAIAQEf0EBBUGAAhAGCwRAQYECEAVBAWsiAkUNAwtBwQIQBSEGA0AgASABIAJrLQAAOgAAIAFBAWohASAGQQFrIgYNAAsFQQEhBwNAIAdBAXQgBxAGciIHQYACSA0ACyABIAc6AAAgAUEBaiEBCyAFIQQMAAsLIAELNAECfwNAIAAgAmoQBgRAIAEgACACakEgahAGIAJ0ciEBIAJBAWohAgwBCwsgAUEBIAJ0cgtxAQR%2FA0AjAkGAIEgEQCMCQQh0IwEtAAByJAIjAUEBaiQBDAELCyMCQf8BcSICIAAtAICADyIBIwJBCHUiA2xBgAIgAWsgA2wgAWsgAiABSCIEG2okAiAAIAFBByAEQYECbGogAWtBBHVqOgCAgA8gBAsMAEEAQYCEDxAEJAALC9gDAQBBAAvRAwF%2F%2F9fTKCTONmi84%2BnrbVSOH%2Fc6vSf%2BD4d9SJNBc3FX7QfUHxwdZoJ2gbrkOxXMlCFQohTpOfrqH2lON%2BKLJNVfU5Nu4GOO2WMojT29uFcnCJS3%2B1hbxaL%2Fh9lmLYb3zvWsMJ%2BjBoF3XH%2BX3PiQRGj3lSO6d6ROB1tLHAjBvc8KRcJC8ezAHO2KxgN0C60LhqDnEMNRGkiZIGd7vFakdzsTK52rXTWTEF%2BRtXf5UnppLVtDQaKioHW9qgBgNM8z076axgmmzZdgskOHHn3MVWuglavoCFh4dRFW5XmuZwoBT3HKAX%2F6xPFRb56MQoyggxfIPc7Po49uFG7BLqNaZm%2FVzLkVsqcnLbkOu67BrqPS6In7L9Zomf6E5PQp%2FK7DKV5%2FS%2Be15wnC3zqP1Bj6xLe3xzckXir7SHPZsep5NtRy%2FGpcseCHgPNHMos7xPQKdDO%2BAXqvMZuNdOwFZm6TmQ3vmMOdSSpn62axAi0QlRgoxhrA%2F42mIF6TkGbDAElqkMfF0EyKfip%2B2EPJtH7AksMALac%2BkjT9fyIQRGiD5HMZwCTKLxBLX3A07qdkKrXlR5i8pYOXZxAX4vyy9BKV8RfUfvEuqyNXXnBg4e%2BB%2FPnR%2Bg%3D%3D")));for(let e of["acos","asin","atan","atan2","cos","exp","log","sin","tan","pow"])E.env[e]=Math[e];for(let e=9;e<64;++e)E.env["reserved"+e]=()=>{};for(let e=0;e<16;++e)E.env["g_reserved"+e]=0;r=f(r);let w=await y(e("data:;base64,AgFv29EL7xDSFEUDj%2BcLcQjAClk2giRKGUqCIsSerZtoA2qnAYyuX%2FvEA2n%2BndRTQdFzXl3w3VsXMaR2PgexlzXayrmn2IlcQzhGe0P7ULZn8Wc7YxhXYqbv33YGTfuh5xkvEEiNM4r5m6fAR3M45sfiRoMri4R%2FVlAUHGNObNxkhB2Tc%2B7kqsKJcPtWCSMfDnnflv253vcqpPk%2F4yhEI%2B5jqQ5XWQnyQJeyoHuhUWH9dTtU370md9aM3JoNUO7EQavvgkqvNKzKyca%2FQntVc6D7phTD%2BI4CiWFXaGZ6wG0BrNgMwLxbro4c3cIXv%2FLMm6UYmeiWCOXj6fKD11QDDUKdrCxYbEd4YYKZ7mdMF9oNKRIvynqcPValqqICBQozy5iFau0DFNqFY2EfOT3%2BMYNIPOkaeB4DUO53Z%2BDmHby6cCjr%2Bnr5fdC4kWWywYJsKdXpWQqv1TEUR7SqjBZoOQG5Y1IkB2mvlNWrtHRFLgpsDX%2FnQcvM1fqUcAfZLNzxX1u%2FvBreIdYn4j3GTLF5dF3DsgCJbDrMMBlU4hZ5CU97qbYsOmr%2F9FBGCQZTt0aW2kbK0Ul%2BDodLIJQD7C%2FRkk0bcD2X%2FRMDW8zOYKE26yXrlkkDxdDoPV2JdLgj8Fn0Pd8YvMywkoRrnGcspQdC%2FhmaURyiECLoa07lfWZRvQBVrkchMdWy4Evl0xn7HH1u1b0%2Bpip2hc5Jb0jiZneL9WVZoD%2FN%2BIZ2P8J5fYWhqx8pDfj4gVE4K6y8rxS%2FV3j8BOepuPwKr5%2FO3GrjUUT1NaIVz3z7WS1EUnpa%2BOf%2BXVrmuiAGkKQgbDCGC3Z3Hgu%2FsiU9G1MsiimAl9JLO4sM4d%2Bpev2djBfikrsmoHu6l1Z8ylEqOR4BvJWjvl%2B0VRt%2F%2BNRHiYQ4UXGi2FLt2XsEwjFhe3rM9t9d0Dmx%2FVpE7E9V7HxwXTXqa9IAOMT3DnzvZV4e%2FzvGdaoExE9cw81wriA27AKOFRE72tprIuzV04N7jvnv1VwnGljVKpDGW3Zi1XBl53J4ZrX2fMBWY1RkEyozHlB9SzFdNvoFBpNCOyhBRbWnVoK6BR0nm%2FJnLj2CoX5RdNf8jgwqiUUtQv1b3UeL2UoJkqyXW75a0sLOEpmp4iX6IQ9OMpyzwOY0XCEwuF7ZSgu04yyM3JAs%2Be2N4sWgX%2BRJgadixJ6Is4ADYypJcaWvnbb6flnSqY5i9kXYiIj7SrvOwO2OVXeGXs%2FS9enj63sbMucRje7ktVT8bdy%2FuFHW0nNgqMltmCJiFb20FmiXJxvkf6hbGszQk2RyBxWYwsCIQ075q%2Fk0t%2BX7JpfAI9VjPi1NAnQ46WeH3W5nK9NY68PrqESqvNWqrH2txLVksxuDbpf4AvEq4hRpcaY7QS2FXqn9A39mNJBFHairVfAazos7mwGmoDmgbTMUZvAPpeaOCg6bts8mHD%2FhdUHS5F2CubJbUOJOl8vVBm8OO4rlurLxFBm413bFLJUj%2FkXIOXjTeK9JWjoEm2IKMmny4yqNTPaFX8MKpm0ky4akPNeykl%2BCwmqJiiD0DMpU9%2FWiOQrOPIicBwzZU6dlOJCeJUHx%2BjpQjSFrtcAjaXoEXlCLuY7HvRscEbbuPWwTTz7XdGdC%2F56sOqPLbARlgFlW6kR0lxcC%2FmiFQWy35ccmazOG34zVnMHX%2FkI5xiGkP6whfEBpgZ598vCB9rk4YXGZZzgiznAcUFDFJ%2FUN0q2L3Z7M0s4vD9OQzOgkYcmuQtDykcDgGkNxmI9G5sKQ0cXdgJ%2B85a5oNEbFTPoXY6tI7lRjk%2F4n2SAGJCGS2vDDdqbVUJRAg%2BOBjwrJKauEp27lUvMFR2ixZ8MHa00ja9H%2BHHZFYYd8UxF%2B%2BGNRTpuPsPjtmCotz5yUUTn1lCooDeiguv21%2BsUiughkIfkfYH%2B8P3cU5ut3KoYb%2BTC%2F0AbblbPcRofX%2FvsXyswKL4j3meIFd3iEcQZGhbHmjfLUD186Qal1l70w4J%2BgZ35AE%2F3vm15UkJLxFM%2BgbFpJXX5n%2FyUQ7RbwHHNX9p1CZmDV1NpFa8A7Kvt9adJbO5uawq%2FEbUTA%2FnNeXa2Ktku3Yf7i1KyLE9Q63iNMDCoL0pjsOCzNWexUrtTHH1OWl5cAC4rTgz4eKgcW%2FPxR3Ar876rIqpmcsSyFl%2Bj9GJULOmTw6H7yf2cfG%2F3q4RTJQN3d5YIKUDpRJwWQ0SYTWS0Pak0GR17IKtfb8BUe0o%2FW%2BHhi6lM32rU%2FqRy0JFzMKtOkFlVz3QMuFcTeQd5we%2FtsHs22ywv9uFS9oDwuslwiVckDLbXka9MK%2BeZC7O4j3wBLdevXGJljfGpr7gQg95aNi32rFBjgHQ6t3gdtxgH63%2B5sgYhxfjS93%2BooOiosR3z1R7X7%2F%2FrfuVeDNvGBNLXOgdh2nz6nt299GgvtZpoMd3mO0FP77mNalFcprFibPvo10HvxmqP7uUjIZS1HQ6OjurSPBgYWNJGKEbawC1hKySYFdELejsHSCc%2Br7btSq9t6KkWbvHy4qqYWWP9E5uJ9XUrq5GbbZ1FjViyVJhFeDn1LdaxALieGBVkT02Rp%2Bf8%2BUvgxPCgLmdpqTMLljm4LHTMH9Wfxo7dRCYwyEuKUe3ZRoHSUgzdDmldg6WRCWuAYTxTdgge3ShGnDyLKFI6l8cTZrxpb5BfW9e4s6%2Bhx2c6fA9hVaT957oQMVTbcUfgPWM4nBmQpDQNeTzwfmrvAZCfQjqd9TE%2BQMtr2bkTpD8fENB7pSl7ZBXiQNPRQstQDp44Xg%2BzXdQwW1tGF%2F%2FrR%2FWvCmi618yfcS8OgBDkVxMrsXG7BphRZkLWJ3bdfy2AdfvzPAfhxgfZQuITVXQV70sipXJg0vAeJhjV%2B%2BHAZ9uSImY7cXC6LLMUhNkKo4fpTPdp6%2BSpqQkyN9FE6iX%2BnlizrOd4XMTDBXqoNz3tQI%2FIadtviX9vaZIj66EYFmwztSCKfQ5Zw%2FCT9zpO5EJwCLZlMUQOT6M99mUHhmy0KybdaqJLzn8VLDP7q%2Fc%2FHcl5hNIWbzrXmr%2BhCeQlgN4CMFhvZtA9YGdizMxZiQskU0oEX8YE81DA89oMfzSeAF83Tc5BKPQzuUGCj5orcRuiNksO0REY4Wes6%2BKpvbfMJRY8L0vex5H8AE7lL1B%2BEkZ%2BjtqdOFXeUEiD04NIltymYMZDuswxCj%2FLjmnCyYJ8piXoa6mX%2FhxveIMHI3nKYhwfnGSE6uO7xmOerqm%2BDdwRFxDes5ESgA04U77HfGIpX9R4i%2BG0vUJu8etgG3SFkLh4CdJPnj7tFrDo0ifbRecBAtvM0KvUYjaXCOdzW6eW8c3DwOC4oB6zbkDBFlaEYPi1KyKvfds26z1g%2BWEygPzsh2kN%2BacE5r75TX%2FPnQHmX28G7OaEbhEanX54D6fkwc%2Fbry9QhhijCdqbYFTfeu0V907iOFJqtpOYrzTDEblqX9FLPEYlkA3%2BIYhw6MEpCNelHk76wug3ecZK7BrQDUczM0rhIQubZUJBYvE37jgJ9eKzJqcC5oqjQeosE1ZC%2F4cyZlNP9447m0a6OSNlF2Jc490F4E%2FT7LJ2svvQC1W8dYXneb6%2FUCppBhtFev8k3YxbMBOyh1uM9Gl4Pm7xJuvGKp7hYNnWPL7EV5ussf41JAsJ0NGaEV0FrATLxE2EykuYdLZ5mZgt%2FZvmk49ampT41J%2BrgbojquJmCbVuB6KVzOp2EibkKyqkm8wZnVEPkXrti%2FQ5i%2FRyQYHMi4dg1z5ebKBbOftCc%2BHFa6rrAJA7e81Uc7UqI7pwnNa9uzGGZBySznjHD8vfXaSwA4b2qMefowviYBOyjoi9QVdmyjwVr5FTo6HBCUAmtGbbDi53p6K1XqSy29n8XAryD1ervXLxP5GAbeOcDUd%2BAqhgUdVg6mLf0lOom%2FE%2Fc50o1IKVRDCLaZQJU7xQd18ke6Bm9K%2Bv1LExcY6YavOfgwcb5emOG0Lhe3PsT7uCvFN6oLA0F75bk8keWCNxMBGKC8fPNLu4mwlHbzeTUQ9pcc81Yynkm0cnn2OGWk81a85LyHM9W8io1YqUYUOVcH4jAsXymbBE1BMrt%2F%2BmdepCxvEqdEbMZG4qTSPZmaOgPfXJBHQt584uole9PzRVVneBY6%2F12tzjHYN2N6O4g1wGHp5xzuGRIyFKto1LgQdgZWQKaYa2x35B3yaf4unx1LtzYtwgbrsTe412crNMiuUWAxgpDT4tL4pkbMr0kAb1qpT%2BFbsk%2FO4TU9n4UrB4lDxRmB0QhBTTGZIrKi36h%2BoZXO%2BpB8rXvn5Qu3%2FXZJqlQm5wCUuHgn9dSuO856jjKA0w%2B7qFnIgWEu3PNCl1eQgyRGPqkGfAAMUglQcwDDKd0%2BwC%2BMmUNevQOmvvCgRr3cs8pd7ff0jEL8rt%2F%2BbMcC9pE9qB6J7w%2FmNcWEQkOo1cl%2BM29Vy0z5Q1X2iSq2%2Ba73ql4GQZaQxk%3D"));m.port.postMessage([w,r]);let b=await p(w);for(let e in b.exports)E.env[e]=b.exports[e];let I=await p(r),M=a(F.data.buffer);await u;let k=Date.now();const v=1e3/60;let h=k;m.connect(g.destination),function e(){if(C)try{let t=Date.now(),B=!1;if(t>=h){let e=navigator.getGamepads(),s=0;for(let t=0;t<4;++t){let A=e[t];if(A){for(let e=0;e<8;++e){let a=(e+12)%16;A.buttons.length>a&&A.buttons[a].pressed&&(s|=1<<8*t+e)}if(A.axes.length>1)for(let e=0;e<4;++e){let a=A.axes[1-(e>>1)];(1&e?a:-a)>.5&&(s|=1<<8*t+e)}A.buttons.length>9&&A.buttons[9].pressed&&(B=!0)}}let o=a(n.buffer);o[16]=t-k,o[17]=c|s,I.exports.upd&&I.exports.upd(),b.exports.endFrame();let r=new ArrayBuffer(32);A(r).set(A(n.buffer,80,32)),m.port.postMessage(r,[r]);let d=a(n.buffer,77824,1024);for(let e=0;e<76800;++e)M[e]=4278190080|d[i[e+120]];l.putImageData(F,0,0),h=Math.max(h+v,t)}B?Q(o):window.requestAnimationFrame(e)}catch(e){s.setMessage(D,e.toString())}}()}catch(e){s.setMessage(D,e.toString())}}function C(e,t){let A=document.createElement("a");A.href=URL.createObjectURL(e),A.download="microw8_"+(new Date).toISOString()+t,A.click(),URL.revokeObjectURL(A.href)}return{runModule:Q,runModuleFromURL:async function(e,t){let A=await fetch(e),a=A.headers.get("Content-Type");return!(a&&a.includes("html")||200!=A.status)&&(Q(await A.arrayBuffer(),t||d),!0)},setDevkitMode:e=>d=e}}(document.getElementById("screen"),{setMessage:(e,t)=>{let A=document.getElementById("message");t&&(A.innerText=t),A.hidden=!t}});new EventSource("events").onmessage=e=>{console.log(e.data),"L"==e.data&&B.runModuleFromURL("cart",!0)},B.runModuleFromURL("cart",!0);</script></html>